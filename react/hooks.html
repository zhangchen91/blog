<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hooks | blog</title>
    <meta name="description" content="composition api form validator for vue">
    <link rel="stylesheet" href="/blog/assets/style.9cd96c5b.css">
    <link rel="modulepreload" href="/blog/assets/app.d1c6a6c8.js">
    <link rel="modulepreload" href="/blog/assets/react_hooks.md.c42c6cf1.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-f44a984a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-f44a984a data-v-8c0a9870><div class="VPNavBar has-sidebar" data-v-8c0a9870 data-v-1bbed88e><div class="container" data-v-1bbed88e><div class="VPNavBarTitle has-sidebar" data-v-1bbed88e data-v-d5925166><a class="title" href="/blog/" data-v-d5925166><!--[--><!--]--><!----><!--[-->blog<!--]--><!--[--><!--]--></a></div><div class="content" data-v-1bbed88e><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1bbed88e data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> JavaScript <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/js/" data-v-e8e0fb1d data-v-3c355974><!--[-->JavaScript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/js/%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86.html" data-v-e8e0fb1d data-v-3c355974><!--[-->å¼‚æ­¥å¤„ç†<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/js/%E4%BB%A3%E7%90%86%E4%B8%8E%E5%8F%8D%E5%B0%84.html" data-v-e8e0fb1d data-v-3c355974><!--[-->ä»£ç†ä¸åå°„<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/js/%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8.html" data-v-e8e0fb1d data-v-3c355974><!--[-->è¿­ä»£å™¨å’Œç”Ÿæˆå™¨<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> TypeScript <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/ts/TypeScript-onePage.html" data-v-e8e0fb1d data-v-3c355974><!--[-->TypeScript OnePage<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> å‰ç«¯å·¥ç¨‹åŒ– <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/front-end-engineering/performance.html" data-v-e8e0fb1d data-v-3c355974><!--[-->è¿™ä¸€å®šæ˜¯ä½ è§è¿‡æœ€å…¨çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ³•è®º<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/front-end-engineering/git.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Git<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/front-end-engineering/webpack%E5%B8%B8%E7%94%A8%E6%8B%93%E5%B1%95.html" data-v-e8e0fb1d data-v-3c355974><!--[-->webpackå¸¸ç”¨æ‹“å±•<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/front-end-engineering/CSS%E5%B7%A5%E7%A8%8B%E5%8C%96.html" data-v-e8e0fb1d data-v-3c355974><!--[-->CSSå·¥ç¨‹åŒ–<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/front-end-engineering/jscompatibility.html" data-v-e8e0fb1d data-v-3c355974><!--[-->JS å…¼å®¹æ€§<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/front-end-engineering/webpack5.html" data-v-e8e0fb1d data-v-3c355974><!--[-->webpack5<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/front-end-engineering/pnpm%E5%8E%9F%E7%90%86.html" data-v-e8e0fb1d data-v-3c355974><!--[-->pnpmåŸç†<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/front-end-engineering/modularization.html" data-v-e8e0fb1d data-v-3c355974><!--[-->æ¨¡å—åŒ–<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/front-end-engineering/PackageManager.html" data-v-e8e0fb1d data-v-3c355974><!--[-->åŒ…ç®¡ç†å™¨<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> Vuejs 22ç¯‡ <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/index.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vuejs OnePage<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/vue-interview.html" data-v-e8e0fb1d data-v-3c355974><!--[-->é‚£äº›å¹´ï¼Œè¢«é—®çƒ‚äº†çš„ Vuejs é¢è¯•é¢˜<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/vdom.html" data-v-e8e0fb1d data-v-3c355974><!--[-->è™šæ‹ŸDOMè¯¦è§£<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/component-communication.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vuejs ç»„ä»¶é€šä¿¡æ¦‚è§ˆ<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/v-model.html" data-v-e8e0fb1d data-v-3c355974><!--[-->æ¢ç´¢ v-model åŸç†<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/reactive.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue2 æ•°æ®å“åº”åŸç†<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/reactive-v3.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue3 æ•°æ®å“åº”åŸç†<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/diff.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue2 diffç®—æ³•åŸç†<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/lifecycle.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue ç”Ÿå‘½å‘¨æœŸ<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/computed.html" data-v-e8e0fb1d data-v-3c355974><!--[-->ä½ ä¸çŸ¥é“çš„ computed Vue2<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/keep-alive-LRU.html" data-v-e8e0fb1d data-v-3c355974><!--[-->keep-alive ä¸ LRU ç®—æ³•<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/vue3-onepage.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue3 onePage<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/vue-cli.html" data-v-e8e0fb1d data-v-3c355974><!--[-->vue-cli åˆ°åº•å¸®æˆ‘ä»¬åšäº†ä»€ä¹ˆ<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/vue-compile.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue ç¼–è¯‘å™¨ä¸ºä»€ä¹ˆå¦‚æ­¤å¼ºå¤§<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/nextTick.html" data-v-e8e0fb1d data-v-3c355974><!--[-->$nextTick å·¥ä½œåŸç†<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/vs.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue å’Œ React çš„æ ¸å¿ƒåŒºåˆ«<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/slot.html" data-v-e8e0fb1d data-v-3c355974><!--[-->ä¸€ç¯‡ç²¾é€š slot<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/SSR.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue SSR æœåŠ¡ç«¯æ¸²æŸ“<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/directive.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue æŒ‡ä»¤ç¯‡<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/vue-router.html" data-v-e8e0fb1d data-v-3c355974><!--[-->VueRouter è·¯ç”±ä»ä½¿ç”¨åˆ°æºç <!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/vuex.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vuex æ€æƒ³å’Œæºç <!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vue/interviewer.html" data-v-e8e0fb1d data-v-3c355974><!--[-->ä»Šå¤©æˆ‘æ˜¯é¢è¯•å®˜<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-1bbed88e data-v-db824e91 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="option-icon" data-v-6ffb57d3><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg>  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><div class="items" data-v-db824e91><p class="title" data-v-db824e91>English</p><!--[--><div class="VPMenuLink" data-v-db824e91 data-v-e8e0fb1d><a class="VPLink link" href="https://netlify.app" target="_blank" rel="noreferrer" data-v-e8e0fb1d data-v-3c355974><!--[-->ç®€ä½“ä¸­æ–‡<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-3c355974><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-1bbed88e data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-1bbed88e data-v-738bef5a data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/Sunny-117/blog" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-1bbed88e data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><div class="group" data-v-e4361c82><p class="trans-title" data-v-e4361c82>English</p><!--[--><div class="VPMenuLink" data-v-e4361c82 data-v-e8e0fb1d><a class="VPLink link" href="https://netlify.app" target="_blank" rel="noreferrer" data-v-e8e0fb1d data-v-3c355974><!--[-->ç®€ä½“ä¸­æ–‡<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-3c355974><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--></div><div class="group" data-v-e4361c82><div class="item appearance" data-v-e4361c82><p class="label" data-v-e4361c82>Appearance</p><div class="appearance-action" data-v-e4361c82><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e4361c82 data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-e4361c82><div class="item social-links" data-v-e4361c82><div class="VPSocialLinks social-links-list" data-v-e4361c82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/Sunny-117/blog" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-1bbed88e data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-f44a984a data-v-b6162a8b><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b6162a8b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b6162a8b><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b6162a8b>Menu</span></button><a class="top-link" href="#" data-v-b6162a8b> Return to top </a></div><aside class="VPSidebar" data-v-f44a984a data-v-a186aa16><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a186aa16><span class="visually-hidden" id="sidebar-aria-label" data-v-a186aa16> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>Introduction</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/blog/getting-started.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Getting Started</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>JavaScript</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/blog/js/" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>JavaScript</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/js/%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>å¼‚æ­¥å¤„ç†</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/js/%E4%BB%A3%E7%90%86%E4%B8%8E%E5%8F%8D%E5%B0%84.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>ä»£ç†ä¸åå°„</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/js/%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>è¿­ä»£å™¨å’Œç”Ÿæˆå™¨</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup" data-v-a186aa16 data-v-6e45c352><div class="title" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>TypeScript</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/blog/ts/TypeScript-onePage.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>TypeScript OnePage</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>å‰ç«¯å·¥ç¨‹åŒ–</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/blog/front-end-engineering/performance.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>è¿™ä¸€å®šæ˜¯ä½ è§è¿‡æœ€å…¨çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ³•è®º</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/front-end-engineering/git.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Git</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/front-end-engineering/webpack%E5%B8%B8%E7%94%A8%E6%8B%93%E5%B1%95.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>webpackå¸¸ç”¨æ‹“å±•</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/front-end-engineering/CSS%E5%B7%A5%E7%A8%8B%E5%8C%96.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>CSSå·¥ç¨‹åŒ–</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/front-end-engineering/jscompatibility.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>JS å…¼å®¹æ€§</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/front-end-engineering/webpack5.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>webpack5</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/front-end-engineering/pnpm%E5%8E%9F%E7%90%86.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>pnpmåŸç†</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/front-end-engineering/modularization.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>æ¨¡å—åŒ–</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/front-end-engineering/PackageManager.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>åŒ…ç®¡ç†å™¨</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible collapsed" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>Vuejs 22ç¯‡</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/blog/vue/index.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vuejs OnePage</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/vue-interview.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>é‚£äº›å¹´ï¼Œè¢«é—®çƒ‚äº†çš„ Vuejs é¢è¯•é¢˜</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/vdom.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>è™šæ‹ŸDOMè¯¦è§£</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/component-communication.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vuejs ç»„ä»¶é€šä¿¡æ¦‚è§ˆ</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/v-model.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>æ¢ç´¢ v-model åŸç†</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/reactive.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue2 æ•°æ®å“åº”åŸç†</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/reactive-v3.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue3 æ•°æ®å“åº”åŸç†</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/diff.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue2 diffç®—æ³•åŸç†</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/lifecycle.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue ç”Ÿå‘½å‘¨æœŸ</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/computed.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>ä½ ä¸çŸ¥é“çš„ computed Vue2</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/keep-alive-LRU.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>keep-alive ä¸ LRU ç®—æ³•</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/vue3-onepage.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue3 onePage</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/vue-cli.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>vue-cli åˆ°åº•å¸®æˆ‘ä»¬åšäº†ä»€ä¹ˆ</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/vue-compile.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue ç¼–è¯‘å™¨ä¸ºä»€ä¹ˆå¦‚æ­¤å¼ºå¤§</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/nextTick.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>$nextTick å·¥ä½œåŸç†</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/vs.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue å’Œ React çš„æ ¸å¿ƒåŒºåˆ«</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/slot.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>ä¸€ç¯‡ç²¾é€š slot</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/SSR.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue SSR æœåŠ¡ç«¯æ¸²æŸ“</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/directive.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue æŒ‡ä»¤ç¯‡</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/vue-router.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>VueRouter è·¯ç”±ä»ä½¿ç”¨åˆ°æºç </span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/vuex.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vuex æ€æƒ³å’Œæºç </span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/vue/interviewer.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>ä»Šå¤©æˆ‘æ˜¯é¢è¯•å®˜</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>React 16ç¯‡</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/blog/react/" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>React onePage</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/react-interview.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>é‚£äº›å¹´ï¼Œè¢«é—®çƒ‚äº†çš„ React é¢è¯•é¢˜</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link active" href="/blog/react/hooks.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>React Hooks</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/component-communication.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>React ç»„ä»¶é€šä¿¡</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/context.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>React Context</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/lifecycle.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>React ç”Ÿå‘½å‘¨æœŸ</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/event.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>React äº‹ä»¶æœºåˆ¶</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/render.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>React æ¸²æŸ“åŸç†</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/transition.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>React åŠ¨ç”»</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/ReactRouter.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>React Router</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/Redux.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>JS åº”ç”¨çš„çŠ¶æ€å®¹å™¨ï¼Œæä¾›å¯é¢„æµ‹çš„çŠ¶æ€ç®¡ç† Redux</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/react-redux-router.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>è§†å›¾-ä»“åº“-è·¯ç”±</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/dva.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>dva è®¾è®¡æ€æƒ³</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/umi.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Umi ä¼ä¸šçº§å‰ç«¯æ¡†æ¶</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/utils.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>React è°ƒè¯•å·¥å…·</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/react/Fiber.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Fiber</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup" data-v-a186aa16 data-v-6e45c352><div class="title" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>å‰ç«¯å·¥å…·</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/blog/fe-utils/js%E5%B7%A5%E5%85%B7%E5%BA%93.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>å‰ç«¯ JavaScript å¿…ä¼šå·¥å…·åº“åˆé›†</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/fe-utils/%E4%BD%A0%E7%9A%84%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B0%8F%E5%8A%A9%E6%89%8B.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>ä½ çš„å‰ç«¯å¼€å‘å°åŠ©æ‰‹</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/fe-utils/%E4%B8%93%E4%B8%9A%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%B6%E8%97%8F%E5%A4%B9.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>ä¸“ä¸šå‰ç«¯å·¥ç¨‹å¸ˆçš„æµè§ˆå™¨æ”¶è—å¤¹</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>algorithm</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/blog/algorithm/%F0%9F%94%A5%E5%88%B7%E9%A2%98%E4%B9%8B%E6%8E%A2%E7%B4%A2%E6%9C%80%E4%BC%98%E8%A7%A3.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>ğŸ”¥åˆ·é¢˜ä¹‹æ¢ç´¢æœ€ä¼˜è§£</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>interview</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/blog/interview/%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E4%BD%A0%E8%BF%98%E6%9C%89%E9%97%AE%E9%A2%98%E8%A6%81%E9%97%AE%E6%88%91%E5%90%97.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>é¢è¯•å®˜ï¼šä½ è¿˜æœ‰é—®é¢˜è¦é—®æˆ‘å—</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/interview/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AF%95.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>ç®—æ³•ç¬”è¯•</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible collapsed" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>HTML-CSS 8ç¯‡</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/blog/html-css/interview.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>HTML_CSS é¢è¯•é¢˜</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/html-css/HTML.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>HTML5 OnePage</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/html-css/CSS.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>CSS3 OnePage</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/html-css/canvas-svg.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Canvas å’Œ svg</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/html-css/animation.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>CSS3åŠ¨ç”»</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/html-css/selector.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>CSS3é€‰æ‹©å™¨</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/html-css/principle.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>æ˜¾ç¤ºå™¨çš„æˆåƒåŸç†</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/html-css/drag.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>æ‹–æ‹½ API</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-f44a984a data-v-d981fe29><div class="VPDoc has-sidebar has-aside" data-v-d981fe29 data-v-cfb513e0><div class="container" data-v-cfb513e0><div class="aside" data-v-cfb513e0><div class="aside-curtain" data-v-cfb513e0></div><div class="aside-container" data-v-cfb513e0><div class="aside-content" data-v-cfb513e0><div class="VPDocAside" data-v-cfb513e0 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-cfb513e0><div class="content-container" data-v-cfb513e0><!--[--><!--]--><main class="main" data-v-cfb513e0><div style="position:relative;" class="vp-doc _blog_react_hooks" data-v-cfb513e0><div><h2 id="hook-ç®€ä»‹" tabindex="-1">HOOK ç®€ä»‹ <a class="header-anchor" href="#hook-ç®€ä»‹" aria-hidden="true">#</a></h2><p>ç»„ä»¶ï¼šæ— çŠ¶æ€ç»„ä»¶ï¼ˆå‡½æ•°ç»„ä»¶ï¼‰ã€ç±»ç»„ä»¶ ç±»ç»„ä»¶ä¸­çš„éº»çƒ¦ï¼š</p><ol><li>this æŒ‡å‘é—®é¢˜</li><li>ç¹ççš„ç”Ÿå‘½å‘¨æœŸ</li><li>å…¶ä»–é—®é¢˜</li></ol><p>HOOK ä¸“é—¨ç”¨äºå¢å¼ºå‡½æ•°ç»„ä»¶çš„åŠŸèƒ½ï¼ˆHOOK åœ¨ç±»ç»„ä»¶ä¸­æ˜¯ä¸èƒ½ä½¿ç”¨çš„ï¼‰ï¼Œä½¿ä¹‹ç†è®ºä¸Šå¯ä»¥æˆä¸ºç±»ç»„ä»¶çš„æ›¿ä»£å“ å®˜æ–¹å¼ºè°ƒï¼šæ²¡æœ‰å¿…è¦æ›´æ”¹å·²ç»å®Œæˆçš„ç±»ç»„ä»¶ï¼Œå®˜æ–¹ç›®å‰æ²¡æœ‰è®¡åˆ’å–æ¶ˆç±»ç»„ä»¶ï¼Œåªæ˜¯é¼“åŠ±ä½¿ç”¨å‡½æ•°ç»„ä»¶ HOOKï¼ˆé’©å­ï¼‰æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°(å‘½åä¸Šæ€»æ˜¯ä»¥<strong>use</strong>å¼€å¤´)ï¼Œè¯¥å‡½æ•°å¯ä»¥æŒ‚è½½ä»»ä½•åŠŸèƒ½ HOOK ç§ç±»ï¼š</p><ol><li>useState è§£å†³çŠ¶æ€</li><li>useEffect è§£å†³ç”Ÿå‘½å‘¨æœŸå‡½æ•°</li><li>å…¶ä»–...</li></ol><p>ä¸åŒ HOOK èƒ½è§£å†³æŸä¸€æ–¹é¢çš„åŠŸèƒ½</p><h3 id="state-hook" tabindex="-1">State Hook <a class="header-anchor" href="#state-hook" aria-hidden="true">#</a></h3><p>State Hook æ˜¯ä¸€ä¸ªåœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨çš„å‡½æ•°ï¼ˆuseStateï¼‰ï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨çŠ¶æ€</p><p>useState</p><ul><li>å‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°çš„å€¼è¡¨ç¤ºçŠ¶æ€çš„é»˜è®¤å€¼</li><li>å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„ä¸€å®šåŒ…å«ä¸¤é¡¹ <ul><li>ç¬¬ä¸€é¡¹ï¼šå½“å‰çŠ¶æ€çš„å€¼</li><li>ç¬¬äºŒé¡¹ï¼šæ”¹å˜çŠ¶æ€çš„å‡½æ•°</li></ul></li></ul><p>ä¸€ä¸ªå‡½æ•°ç»„ä»¶ä¸­å¯ä»¥æœ‰å¤šä¸ªçŠ¶æ€ï¼Œè¿™ç§åšæ³•éå¸¸æœ‰åˆ©äºæ¨ªå‘åˆ‡åˆ†å…³æ³¨ç‚¹ã€‚ å‡½æ•°ç»„ä»¶çš„å†™æ³•</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">React</span><span style="color:#ABB2BF;">, { </span><span style="color:#E06C75;">useState</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;react&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// å‡½æ•°ç»„ä»¶çš„å†™æ³•</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">App</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// const arr = useState(0); // ä¸å¡«é»˜è®¤undefinedã€‚ä½¿ç”¨ä¸€ä¸ªçŠ¶æ€ï¼Œè¯¥çŠ¶æ€é»˜è®¤å€¼æ˜¯0</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// const n = arr[0]; //å¾—åˆ°çŠ¶æ€çš„å€¼</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// const setN = arr[1]; //å¾—åˆ°ä¸€ä¸ªå‡½æ•°ï¼Œæ”¹å‡½æ•°ç”¨äºæ”¹å˜çŠ¶æ€</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// è§£æ„è¯­æ³•ç®€åŒ–ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> [</span><span style="color:#E5C07B;">n</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">setN</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useState</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> (</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">button</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#D19A66;font-style:italic;">onClick</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">          </span><span style="color:#61AFEF;">setN</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">n</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">      &gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">        -</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;/</span><span style="color:#E06C75;">button</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">span</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">n</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">span</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">button</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#D19A66;font-style:italic;">onClick</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">          </span><span style="color:#61AFEF;">setN</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">n</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">      &gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">        +</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;/</span><span style="color:#E06C75;">button</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  );</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#B392F0;"> React</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> { useState } </span><span style="color:#F97583;">from</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;react&quot;</span><span style="color:#B392F0;">;</span></span>
<span class="line"><span style="color:#6B737C;">// å‡½æ•°ç»„ä»¶çš„å†™æ³•</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">default</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> App() {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#6B737C;">// const arr = useState(0); // ä¸å¡«é»˜è®¤undefinedã€‚ä½¿ç”¨ä¸€ä¸ªçŠ¶æ€ï¼Œè¯¥çŠ¶æ€é»˜è®¤å€¼æ˜¯0</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#6B737C;">// const n = arr[0]; //å¾—åˆ°çŠ¶æ€çš„å€¼</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#6B737C;">// const setN = arr[1]; //å¾—åˆ°ä¸€ä¸ªå‡½æ•°ï¼Œæ”¹å‡½æ•°ç”¨äºæ”¹å˜çŠ¶æ€</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#6B737C;">// è§£æ„è¯­æ³•ç®€åŒ–ï¼š</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> [</span><span style="color:#79B8FF;">n</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">setN</span><span style="color:#B392F0;">] </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> useState(</span><span style="color:#F8F8F8;">0</span><span style="color:#B392F0;">);</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> (</span></span>
<span class="line"><span style="color:#B392F0;">    &lt;</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;</span><span style="color:#FFAB70;">button</span></span>
<span class="line"><span style="color:#B392F0;">        onClick</span><span style="color:#F97583;">=</span><span style="color:#B392F0;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">          setN(n </span><span style="color:#F97583;">-</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">1</span><span style="color:#B392F0;">);</span></span>
<span class="line"><span style="color:#B392F0;">        }}</span></span>
<span class="line"><span style="color:#B392F0;">      &gt;</span></span>
<span class="line"><span style="color:#B392F0;">        -</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;/</span><span style="color:#FFAB70;">button</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;</span><span style="color:#FFAB70;">span</span><span style="color:#B392F0;">&gt;{n}&lt;/</span><span style="color:#FFAB70;">span</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;</span><span style="color:#FFAB70;">button</span></span>
<span class="line"><span style="color:#B392F0;">        onClick</span><span style="color:#F97583;">=</span><span style="color:#B392F0;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">          setN(n </span><span style="color:#F97583;">+</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">1</span><span style="color:#B392F0;">);</span></span>
<span class="line"><span style="color:#B392F0;">        }}</span></span>
<span class="line"><span style="color:#B392F0;">      &gt;</span></span>
<span class="line"><span style="color:#B392F0;">        +</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;/</span><span style="color:#FFAB70;">button</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">    &lt;/</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">  );</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>åŸç†</p><p><img src="/blog/assets/2023-02-01-19-24-55.d7bd1da3.png" alt=""></p><p><strong>æ³¨æ„çš„ç»†èŠ‚</strong></p><ol><li>useState æœ€å¥½å†™åˆ°å‡½æ•°çš„èµ·å§‹ä½ç½®ï¼Œä¾¿äºé˜…è¯»</li><li>useState ä¸¥ç¦å‡ºç°åœ¨ä»£ç å—ï¼ˆåˆ¤æ–­ã€å¾ªç¯ï¼‰ä¸­</li><li>useState è¿”å›çš„å‡½æ•°ï¼ˆæ•°ç»„çš„ç¬¬äºŒé¡¹ï¼‰ï¼Œå¼•ç”¨ä¸å˜ï¼ˆèŠ‚çº¦å†…å­˜ç©ºé—´ï¼‰</li><li>ä½¿ç”¨å‡½æ•°æ”¹å˜æ•°æ®ï¼Œè‹¥æ•°æ®å’Œä¹‹å‰çš„æ•°æ®å®Œå…¨ç›¸ç­‰ï¼ˆä½¿ç”¨ <a href="http://Object.is" target="_blank" rel="noreferrer">Object.is</a> æ¯”è¾ƒï¼‰ï¼Œä¸ä¼šå¯¼è‡´é‡æ–°æ¸²æŸ“ï¼Œä»¥è¾¾åˆ°ä¼˜åŒ–æ•ˆç‡çš„ç›®çš„ã€‚</li><li>ä½¿ç”¨å‡½æ•°æ”¹å˜æ•°æ®ï¼Œä¼ å…¥çš„å€¼ä¸ä¼šå’ŒåŸæ¥çš„æ•°æ®è¿›è¡Œåˆå¹¶ï¼Œè€Œæ˜¯ç›´æ¥æ›¿æ¢ã€‚ä¸è¦ç›´æ¥æ”¹å˜å¯¹è±¡ã€‚setState æ˜¯ç”¨æ··åˆã€‚ <blockquote><p>åº”è¯¥æ¨ªåˆ‡å¼€æ¥ï¼Œå†™ç¬¬äºŒä¸ªçŠ¶æ€ã€‚å¦‚æœçš„ç¡®éœ€è¦åœ¨ä¸€èµ·ï¼Œå°±ç”¨å±•å¼€è¿ç®—ç¬¦</p></blockquote></li></ol><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">App</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> [</span><span style="color:#E5C07B;">data</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">setData</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useState</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">x</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">y</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  });</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> (</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      x:</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">data</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">,y:</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">data</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">button</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#D19A66;font-style:italic;">onClick</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">          </span><span style="color:#61AFEF;">setData</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">            ...</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#E06C75;">x</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">data</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">          });</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">      &gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">        x+1</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;/</span><span style="color:#E06C75;">button</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  );</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">default</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> App() {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> [</span><span style="color:#79B8FF;">data</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">setData</span><span style="color:#B392F0;">] </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> useState({</span></span>
<span class="line"><span style="color:#B392F0;">    x</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">1</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">    y</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">2</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">  });</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> (</span></span>
<span class="line"><span style="color:#B392F0;">    &lt;</span><span style="color:#FFAB70;">p</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">      x:{</span><span style="color:#79B8FF;">data</span><span style="color:#B392F0;">.x},y:{</span><span style="color:#79B8FF;">data</span><span style="color:#B392F0;">.y}</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;</span><span style="color:#FFAB70;">button</span></span>
<span class="line"><span style="color:#B392F0;">        onClick</span><span style="color:#F97583;">=</span><span style="color:#B392F0;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">          setData({</span></span>
<span class="line"><span style="color:#B392F0;">            </span><span style="color:#F97583;">...</span><span style="color:#B392F0;">data</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">            x</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">data</span><span style="color:#B392F0;">.x </span><span style="color:#F97583;">+</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">1</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">          });</span></span>
<span class="line"><span style="color:#B392F0;">        }}</span></span>
<span class="line"><span style="color:#B392F0;">      &gt;</span></span>
<span class="line"><span style="color:#B392F0;">        x+1</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;/</span><span style="color:#FFAB70;">button</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">    &lt;/</span><span style="color:#FFAB70;">p</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">  );</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ol start="6"><li>å¦‚æœè¦å®ç°å¼ºåˆ¶åˆ·æ–°ç»„ä»¶</li></ol><p>ç±»ç»„ä»¶ï¼šä½¿ç”¨ forceUpdate å‡½æ•°ã€‚ä¸è¿è¡Œ shouldComponentUpdate å‡½æ•°ç»„ä»¶ï¼šä½¿ç”¨ä¸€ä¸ªç©ºå¯¹è±¡çš„ useState</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">React</span><span style="color:#ABB2BF;">, { </span><span style="color:#E06C75;">useState</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;react&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">App</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;App render&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> [, </span><span style="color:#E5C07B;">forceUpdate</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useState</span><span style="color:#ABB2BF;">({});</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> (</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">        &lt;</span><span style="color:#E06C75;">button</span></span>
<span class="line"><span style="color:#ABB2BF;">          </span><span style="color:#D19A66;font-style:italic;">onClick</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#61AFEF;">forceUpdate</span><span style="color:#ABB2BF;">({});</span></span>
<span class="line"><span style="color:#ABB2BF;">          }</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">        &gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">          å¼ºåˆ¶åˆ·æ–°</span></span>
<span class="line"><span style="color:#ABB2BF;">        &lt;/</span><span style="color:#E06C75;">button</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;/</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  );</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#B392F0;"> React</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> { useState } </span><span style="color:#F97583;">from</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;react&quot;</span><span style="color:#B392F0;">;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">default</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> App() {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#79B8FF;">console</span><span style="color:#B392F0;">.log(</span><span style="color:#FFAB70;">&quot;App render&quot;</span><span style="color:#B392F0;">);</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> [</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">forceUpdate</span><span style="color:#B392F0;">] </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> useState({});</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> (</span></span>
<span class="line"><span style="color:#B392F0;">    &lt;</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;</span><span style="color:#FFAB70;">p</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">        &lt;</span><span style="color:#FFAB70;">button</span></span>
<span class="line"><span style="color:#B392F0;">          onClick</span><span style="color:#F97583;">=</span><span style="color:#B392F0;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">            forceUpdate({});</span></span>
<span class="line"><span style="color:#B392F0;">          }}</span></span>
<span class="line"><span style="color:#B392F0;">        &gt;</span></span>
<span class="line"><span style="color:#B392F0;">          å¼ºåˆ¶åˆ·æ–°</span></span>
<span class="line"><span style="color:#B392F0;">        &lt;/</span><span style="color:#FFAB70;">button</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;/</span><span style="color:#FFAB70;">p</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">    &lt;/</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">  );</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ol start="7"><li><strong>å¦‚æœæŸäº›çŠ¶æ€ä¹‹é—´æ²¡æœ‰å¿…ç„¶çš„è”ç³»ï¼Œåº”è¯¥åˆ†åŒ–ä¸ºä¸åŒçš„çŠ¶æ€ï¼Œè€Œä¸è¦åˆå¹¶æˆä¸€ä¸ªå¯¹è±¡</strong></li><li>å’Œç±»ç»„ä»¶çš„çŠ¶æ€ä¸€æ ·ï¼Œå‡½æ•°ç»„ä»¶ä¸­æ”¹å˜çŠ¶æ€å¯èƒ½æ˜¯å¼‚æ­¥çš„ï¼ˆåœ¨ DOM äº‹ä»¶ä¸­ï¼‰ï¼Œå¤šä¸ªçŠ¶æ€å˜åŒ–ä¼šåˆå¹¶ä»¥æé«˜æ•ˆç‡ï¼Œæ­¤æ—¶ï¼Œä¸èƒ½ä¿¡ä»»ä¹‹å‰çš„çŠ¶æ€ï¼Œè€Œåº”è¯¥ä½¿ç”¨å›è°ƒå‡½æ•°çš„æ–¹å¼æ”¹å˜çŠ¶æ€ã€‚å¦‚æœçŠ¶æ€å˜åŒ–è¦ä½¿ç”¨åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œå°½é‡ä¼ é€’å‡½æ•°ã€‚</li></ol><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">React</span><span style="color:#ABB2BF;">, { </span><span style="color:#E06C75;">useState</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;react&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">App</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;render&quot;</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">//ä¸¤æ¬¡æ”¹å˜åˆå¹¶æˆä¸€ä¸ªï¼Œåªè¿è¡Œä¸€æ¬¡</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> [</span><span style="color:#E5C07B;">n</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">setN</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useState</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> (</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">span</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">n</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">span</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">button</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#D19A66;font-style:italic;">onClick</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">          </span><span style="color:#7F848E;font-style:italic;">// setN(n + 1); // ä¸ä¼šç«‹å³æ”¹å˜ï¼Œäº‹ä»¶è¿è¡Œå®Œæˆåä¸€èµ·æ”¹å˜</span></span>
<span class="line"><span style="color:#ABB2BF;">          </span><span style="color:#7F848E;font-style:italic;">// setN(n + 1); // æ­¤æ—¶nä»æ˜¯0</span></span>
<span class="line"><span style="color:#ABB2BF;">          </span><span style="color:#61AFEF;">setN</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">prevN</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">prevN</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// ä¼ å…¥çš„å‡½æ•°ï¼Œåœ¨äº‹ä»¶å®Œæˆåç»Ÿä¸€è¿è¡Œ</span></span>
<span class="line"><span style="color:#ABB2BF;">          </span><span style="color:#61AFEF;">setN</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">prevN</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">prevN</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">      &gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">        +</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;/</span><span style="color:#E06C75;">button</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  );</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#B392F0;"> React</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> { useState } </span><span style="color:#F97583;">from</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;react&quot;</span><span style="color:#B392F0;">;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">default</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> App() {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#79B8FF;">console</span><span style="color:#B392F0;">.log(</span><span style="color:#FFAB70;">&quot;render&quot;</span><span style="color:#B392F0;">); </span><span style="color:#6B737C;">//ä¸¤æ¬¡æ”¹å˜åˆå¹¶æˆä¸€ä¸ªï¼Œåªè¿è¡Œä¸€æ¬¡</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> [</span><span style="color:#79B8FF;">n</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">setN</span><span style="color:#B392F0;">] </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> useState(</span><span style="color:#F8F8F8;">0</span><span style="color:#B392F0;">);</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> (</span></span>
<span class="line"><span style="color:#B392F0;">    &lt;</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;</span><span style="color:#FFAB70;">span</span><span style="color:#B392F0;">&gt;{n}&lt;/</span><span style="color:#FFAB70;">span</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;</span><span style="color:#FFAB70;">button</span></span>
<span class="line"><span style="color:#B392F0;">        onClick</span><span style="color:#F97583;">=</span><span style="color:#B392F0;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">          </span><span style="color:#6B737C;">// setN(n + 1); // ä¸ä¼šç«‹å³æ”¹å˜ï¼Œäº‹ä»¶è¿è¡Œå®Œæˆåä¸€èµ·æ”¹å˜</span></span>
<span class="line"><span style="color:#B392F0;">          </span><span style="color:#6B737C;">// setN(n + 1); // æ­¤æ—¶nä»æ˜¯0</span></span>
<span class="line"><span style="color:#B392F0;">          setN((prevN) </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> prevN </span><span style="color:#F97583;">+</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">1</span><span style="color:#B392F0;">); </span><span style="color:#6B737C;">// ä¼ å…¥çš„å‡½æ•°ï¼Œåœ¨äº‹ä»¶å®Œæˆåç»Ÿä¸€è¿è¡Œ</span></span>
<span class="line"><span style="color:#B392F0;">          setN((prevN) </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> prevN </span><span style="color:#F97583;">+</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">1</span><span style="color:#B392F0;">);</span></span>
<span class="line"><span style="color:#B392F0;">        }}</span></span>
<span class="line"><span style="color:#B392F0;">      &gt;</span></span>
<span class="line"><span style="color:#B392F0;">        +</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;/</span><span style="color:#FFAB70;">button</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">    &lt;/</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">  );</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="effect-hook" tabindex="-1">Effect Hook <a class="header-anchor" href="#effect-hook" aria-hidden="true">#</a></h3><p>å‰¯ä½œç”¨ï¼šç”Ÿå‘½å‘¨æœŸ componentDidMountï¼ŒcomponentDidUpdateï¼ŒcomponentWillUnmount æ‰èƒ½æœ‰å‰¯ä½œç”¨ï¼Œå…¶ä»–éƒ½ä¸èƒ½ï¼Œå› ä¸ºéƒ½å¯èƒ½è°ƒç”¨ä¸¤éï¼ŒæœåŠ¡ç«¯æ¸²æŸ“å¯èƒ½å‡ºé—®é¢˜</p><p>Effect Hookï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å¤„ç†å‰¯ä½œç”¨ å‰¯ä½œç”¨ï¼š</p><ol><li>ajax è¯·æ±‚</li><li>è®¡æ—¶å™¨</li><li>å…¶ä»–å¼‚æ­¥æ“ä½œ</li><li>æ›´æ”¹çœŸå® DOM å¯¹è±¡</li><li>æœ¬åœ°å­˜å‚¨</li><li>å…¶ä»–ä¼šå¯¹å¤–éƒ¨äº§ç”Ÿå½±å“çš„æ“ä½œ</li></ol><p>å‡½æ•°ï¼šuseEffectï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæ¥æ”¶çš„å‡½æ•°å°±æ˜¯éœ€è¦è¿›è¡Œå‰¯ä½œç”¨æ“ä½œçš„å‡½æ•°</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">EffectHook</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> [</span><span style="color:#E5C07B;">n</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">setN</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useState</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">useEffect</span><span style="color:#ABB2BF;">(() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E5C07B;">document</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">n</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">  });</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> (</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">button</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">onClick</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">setN</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">n</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">)</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">&gt;+&lt;/</span><span style="color:#E06C75;">button</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">n</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  );</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">default</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> EffectHook() {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> [</span><span style="color:#79B8FF;">n</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">setN</span><span style="color:#B392F0;">] </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> useState(</span><span style="color:#F8F8F8;">0</span><span style="color:#B392F0;">);</span></span>
<span class="line"><span style="color:#B392F0;">  useEffect(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#79B8FF;">document</span><span style="color:#B392F0;">.title </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> n;</span></span>
<span class="line"><span style="color:#B392F0;">  });</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> (</span></span>
<span class="line"><span style="color:#B392F0;">    &lt;</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">      &lt;</span><span style="color:#FFAB70;">button</span><span style="color:#B392F0;"> onClick</span><span style="color:#F97583;">=</span><span style="color:#B392F0;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> setN(n </span><span style="color:#F97583;">+</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">1</span><span style="color:#B392F0;">)}&gt;+&lt;/</span><span style="color:#FFAB70;">button</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">      {n}</span></span>
<span class="line"><span style="color:#B392F0;">    &lt;/</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">  );</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>ç»†èŠ‚</strong></p><ol><li>å‰¯ä½œç”¨å‡½æ•°çš„è¿è¡Œæ—¶é—´ç‚¹ï¼Œæ˜¯åœ¨é¡µé¢å®ŒæˆçœŸå®çš„ UI æ¸²æŸ“ä¹‹åã€‚å› æ­¤å®ƒçš„æ‰§è¡Œæ˜¯å¼‚æ­¥çš„ï¼Œå¹¶ä¸”ä¸ä¼šé˜»å¡æµè§ˆå™¨ ã€‚æ‰€ä»¥ä¼šæœ‰äº›å»¶è¿Ÿ</li></ol><p>ä¸ç±»ç»„ä»¶ä¸­ componentDidMount å’Œ componentDidUpdate çš„åŒºåˆ« componentDidMount å’Œ componentDidUpdateï¼Œæ›´æ”¹äº†çœŸå® DOMï¼Œä½†æ˜¯ç”¨æˆ·è¿˜æ²¡æœ‰çœ‹åˆ° UI æ›´æ–°ï¼ŒåŒæ­¥çš„ã€‚ useEffect ä¸­çš„å‰¯ä½œç”¨å‡½æ•°ï¼Œæ›´æ”¹äº†çœŸå® DOMï¼Œå¹¶ä¸”ç”¨æˆ·å·²ç»çœ‹åˆ°äº† UI æ›´æ–°ï¼Œå¼‚æ­¥çš„ã€‚</p><ol start="2"><li><p>æ¯ä¸ªå‡½æ•°ç»„ä»¶ä¸­ï¼Œå¯ä»¥å¤šæ¬¡ä½¿ç”¨ useEffectï¼Œä½†ä¸è¦æ”¾å…¥åˆ¤æ–­æˆ–å¾ªç¯ç­‰ä»£ç å—ä¸­ã€‚</p></li><li><p>useEffect ä¸­çš„å‰¯ä½œç”¨å‡½æ•°ï¼Œå¯ä»¥æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å«åšæ¸…ç†å‡½æ•°</p><ol><li>è¯¥å‡½æ•°è¿è¡Œæ—¶é—´ç‚¹ï¼Œåœ¨æ¯æ¬¡è¿è¡Œå‰¯ä½œç”¨å‡½æ•°ä¹‹å‰</li><li>é¦–æ¬¡æ¸²æŸ“ç»„ä»¶ä¸ä¼šè¿è¡Œ</li><li><strong>ç»„ä»¶è¢«é”€æ¯æ—¶ä¸€å®šä¼šè¿è¡Œ window.timer =&gt; null</strong></li></ol></li><li><p>useEffect å‡½æ•°ï¼Œå¯ä»¥ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°</p><ol><li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„</li><li>æ•°ç»„ä¸­è®°å½•è¯¥å‰¯ä½œç”¨çš„ä¾èµ–æ•°æ®</li><li>å½“ç»„ä»¶é‡æ–°æ¸²æŸ“åï¼Œåªæœ‰ä¾èµ–æ•°æ®ä¸ä¸Šä¸€æ¬¡ä¸ä¸€æ ·çš„æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå‰¯ä½œç”¨</li><li>æ‰€ä»¥ï¼Œå½“ä¼ é€’äº†ä¾èµ–æ•°æ®ä¹‹åï¼Œå¦‚æœæ•°æ®æ²¡æœ‰å‘ç”Ÿå˜åŒ– <ol><li>å‰¯ä½œç”¨å‡½æ•°ä»…åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“åè¿è¡Œ</li><li>æ¸…ç†å‡½æ•°ä»…åœ¨å¸è½½ç»„ä»¶åè¿è¡Œ</li></ol></li></ol></li><li><p>å‰¯ä½œç”¨å‡½æ•°ä¸­ï¼Œå¦‚æœä½¿ç”¨äº†å‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ï¼Œåˆ™ç”±äºé—­åŒ…çš„å½±å“ï¼Œä¼šå¯¼è‡´å‰¯ä½œç”¨å‡½æ•°ä¸­å˜é‡ä¸ä¼šå®æ—¶å˜åŒ–ã€‚ <img src="/blog/assets/2023-02-01-19-25-37.a7c41d3a.png" alt=""></p></li><li><p>å‰¯ä½œç”¨å‡½æ•°åœ¨æ¯æ¬¡æ³¨å†Œæ—¶ï¼Œä¼šè¦†ç›–æ‰ä¹‹å‰çš„å‰¯ä½œç”¨å‡½æ•°ï¼Œå› æ­¤ï¼Œå°½é‡ä¿æŒå‰¯ä½œç”¨å‡½æ•°ç¨³å®šï¼Œå¦åˆ™æ§åˆ¶èµ·æ¥ä¼šæ¯”è¾ƒå¤æ‚ã€‚</p></li></ol><h3 id="è‡ªå®šä¹‰-hook" tabindex="-1">è‡ªå®šä¹‰ Hook <a class="header-anchor" href="#è‡ªå®šä¹‰-hook" aria-hidden="true">#</a></h3><p>State Hookï¼š useState Effect Hookï¼šuseEffect</p><p>è‡ªå®šä¹‰ Hookï¼šå°†ä¸€äº›å¸¸ç”¨çš„ã€è·¨è¶Šå¤šä¸ªç»„ä»¶çš„ Hook åŠŸèƒ½ï¼ŒæŠ½ç¦»å‡ºå»å½¢æˆä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å°±æ˜¯è‡ªå®šä¹‰ Hookï¼Œè‡ªå®šä¹‰ Hookï¼Œç”±äºå…¶å†…éƒ¨éœ€è¦ä½¿ç”¨ Hook åŠŸèƒ½ï¼Œæ‰€ä»¥å®ƒæœ¬èº«ä¹Ÿéœ€è¦æŒ‰ç…§ Hook çš„è§„åˆ™å®ç°ï¼š</p><ol><li>å‡½æ•°åå¿…é¡»ä»¥ use å¼€å¤´</li><li>è°ƒç”¨è‡ªå®šä¹‰ Hook å‡½æ•°æ—¶ï¼Œåº”è¯¥æ”¾åˆ°é¡¶å±‚</li></ol><p>ä¾‹å¦‚ï¼š</p><ol><li>å¾ˆå¤šç»„ä»¶éƒ½éœ€è¦åœ¨ç¬¬ä¸€æ¬¡åŠ è½½å®Œæˆåï¼Œè·å–æ‰€æœ‰å­¦ç”Ÿæ•°æ®</li><li>å¾ˆå¤šç»„ä»¶éƒ½éœ€è¦åœ¨ç¬¬ä¸€æ¬¡åŠ è½½å®Œæˆåï¼Œå¯åŠ¨ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œç„¶ååœ¨ç»„ä»¶é”€æ¯æ—¶å¸è½½</li></ol><blockquote><p>ä½¿ç”¨ Hook çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰ä¸¥æ ¼æŒ‰ç…§ Hook çš„è§„åˆ™è¿›è¡Œï¼Œeslint çš„ä¸€ä¸ªæ’ä»¶ï¼ˆeslint-plugin-react-hooksï¼‰ä¼šæŠ¥å‡ºè­¦å‘Š</p></blockquote><h3 id="reducer-hook" tabindex="-1">Reducer Hook <a class="header-anchor" href="#reducer-hook" aria-hidden="true">#</a></h3><p>Fluxï¼šFacebook å‡ºå“çš„ä¸€ä¸ªæ•°æ®æµæ¡†æ¶</p><ol><li>è§„å®šäº†æ•°æ®æ˜¯å•å‘æµåŠ¨çš„</li><li>æ•°æ®å­˜å‚¨åœ¨æ•°æ®ä»“åº“ä¸­ï¼ˆç›®å‰ï¼Œå¯ä»¥è®¤ä¸º state å°±æ˜¯ä¸€ä¸ªå­˜å‚¨æ•°æ®çš„ä»“åº“ï¼‰</li><li><strong>action æ˜¯æ”¹å˜æ•°æ®çš„å”¯ä¸€åŸå› </strong>ï¼ˆæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œaction æœ‰ä¸¤ä¸ªå±æ€§ï¼‰ <ol><li>typeï¼šå­—ç¬¦ä¸²ï¼ŒåŠ¨ä½œçš„ç±»å‹</li><li>payloadï¼šä»»æ„ç±»å‹ï¼ŒåŠ¨ä½œå‘ç”Ÿåçš„é™„åŠ ä¿¡æ¯</li><li>ä¾‹å¦‚ï¼Œå¦‚æœæ˜¯æ·»åŠ ä¸€ä¸ªå­¦ç”Ÿï¼Œaction å¯ä»¥æè¿°ä¸ºï¼š <ol><li><code>{ type:&quot;addStudent&quot;, payload: {å­¦ç”Ÿå¯¹è±¡çš„å„ç§ä¿¡æ¯} }</code></li></ol></li><li>ä¾‹å¦‚ï¼Œå¦‚æœè¦åˆ é™¤ä¸€ä¸ªå­¦ç”Ÿï¼Œaction å¯ä»¥æè¿°ä¸ºï¼š <ol><li><code>{ type:&quot;deleteStudent&quot;, payload: å­¦ç”Ÿid }</code></li></ol></li></ol></li><li><strong>å…·ä½“æ”¹å˜æ•°æ®</strong>çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å«åš<strong>reducer</strong><ol><li>è¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•° <ol><li>stateï¼šè¡¨ç¤ºå½“å‰æ•°æ®ä»“åº“ä¸­çš„æ•°æ®</li><li>actionï¼šæè¿°äº†å¦‚ä½•å»æ”¹å˜æ•°æ®ï¼Œä»¥åŠæ”¹å˜æ•°æ®çš„ä¸€äº›é™„åŠ ä¿¡æ¯</li></ol></li><li>è¯¥å‡½æ•°å¿…é¡»æœ‰ä¸€ä¸ªè¿”å›ç»“æœï¼Œç”¨äºè¡¨ç¤ºæ•°æ®ä»“åº“å˜åŒ–ä¹‹åçš„æ•°æ® <ol><li>Flux è¦æ±‚ï¼Œå¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œå¦‚æœè¿”å›å¯¹è±¡ï¼Œå¿…é¡»åˆ›å»ºæ–°çš„å¯¹è±¡</li></ol></li><li>reducer å¿…é¡»æ˜¯çº¯å‡½æ•°ï¼Œä¸èƒ½æœ‰ä»»ä½•å‰¯ä½œç”¨</li></ol></li><li>å¦‚æœè¦è§¦å‘ reducerï¼Œ<strong>ä¸å¯ä»¥ç›´æ¥è°ƒç”¨</strong>ï¼Œè€Œæ˜¯åº”è¯¥è°ƒç”¨ä¸€ä¸ªè¾…åŠ©å‡½æ•°<strong>dispatch</strong><ol><li>è¯¥å‡½æ•°ä»…æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼šaction</li><li>è¯¥å‡½æ•°ä¼šé—´æ¥å»è°ƒç”¨ reducerï¼Œä»¥è¾¾åˆ°æ”¹å˜æ•°æ®çš„ç›®çš„</li></ol></li></ol><h3 id="context-hook" tabindex="-1">Context Hook <a class="header-anchor" href="#context-hook" aria-hidden="true">#</a></h3><p>ç”¨äºè·å–ä¸Šä¸‹æ–‡æ•°æ®</p><h3 id="callback-hook" tabindex="-1">Callback Hook <a class="header-anchor" href="#callback-hook" aria-hidden="true">#</a></h3><p>å‡½æ•°åï¼šuseCallback</p><p>ç”¨äºå¾—åˆ°ä¸€ä¸ªå›ºå®šå¼•ç”¨å€¼çš„å‡½æ•°ï¼Œé€šå¸¸ç”¨å®ƒè¿›è¡Œæ€§èƒ½ä¼˜åŒ–</p><p>useCallback:</p><p>è¯¥å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li>å‡½æ•°ï¼ŒuseCallback ä¼šå›ºå®šè¯¥å‡½æ•°çš„å¼•ç”¨ï¼Œ<strong>åªè¦ä¾èµ–é¡¹æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œåˆ™å§‹ç»ˆè¿”å›ä¹‹å‰å‡½æ•°çš„åœ°å€</strong></li><li>æ•°ç»„ï¼Œè®°å½•ä¾èµ–é¡¹</li></ol><p>è¯¥å‡½æ•°è¿”å›ï¼šå¼•ç”¨ç›¸å¯¹å›ºå®šçš„å‡½æ•°åœ°å€</p><h3 id="memo-hook" tabindex="-1">Memo Hook <a class="header-anchor" href="#memo-hook" aria-hidden="true">#</a></h3><p>ç”¨äºä¿æŒä¸€äº›æ¯”è¾ƒç¨³å®šçš„æ•°æ®ï¼Œé€šå¸¸ç”¨äºæ€§èƒ½ä¼˜åŒ–</p><p><strong>å¦‚æœ React å…ƒç´ æœ¬èº«çš„å¼•ç”¨æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä¸€å®šä¸ä¼šé‡æ–°æ¸²æŸ“</strong></p><h3 id="ref-hook" tabindex="-1">Ref Hook <a class="header-anchor" href="#ref-hook" aria-hidden="true">#</a></h3><p>useRef å‡½æ•°ï¼š</p><ol><li>ä¸€ä¸ªå‚æ•°ï¼šé»˜è®¤å€¼</li><li>è¿”å›ä¸€ä¸ª<strong>å›ºå®šçš„å¯¹è±¡</strong>ï¼Œ<code>{current: å€¼}</code></li></ol><p><strong>å¯ä»¥åšåˆ°æ¯ä¸€ä¸ªç»„ä»¶æœ‰ä¸€ä¸ªå”¯ä¸€åœ°å€</strong></p><h3 id="imperativehandle-hook" tabindex="-1">ImperativeHandle Hook <a class="header-anchor" href="#imperativehandle-hook" aria-hidden="true">#</a></h3><p>å‡½æ•°ï¼šuseImperativeHandleHook</p><h3 id="layouteffect-hook" tabindex="-1">LayoutEffect Hook <a class="header-anchor" href="#layouteffect-hook" aria-hidden="true">#</a></h3><p><img src="/blog/assets/2023-02-01-19-25-56.cdab3337.png" alt=""></p><p>useEffectï¼šæµè§ˆå™¨æ¸²æŸ“å®Œæˆåï¼Œç”¨æˆ·çœ‹åˆ°æ–°çš„æ¸²æŸ“ç»“æœä¹‹å</p><p>useLayoutEffectHookï¼šå®Œæˆäº†<strong>DOM</strong>æ”¹åŠ¨ï¼Œä½†è¿˜æ²¡æœ‰å‘ˆç°ç»™ç”¨æˆ·è¿è¡Œ</p><p><strong>åº”è¯¥å°½é‡ä½¿ç”¨ useEffectï¼Œå› ä¸ºå®ƒä¸ä¼šå¯¼è‡´æ¸²æŸ“é˜»å¡</strong>ï¼Œå¦‚æœå‡ºç°äº†é—®é¢˜ï¼Œå†è€ƒè™‘ä½¿ç”¨ useLayoutEffectHookã€‚ä½¿ç”¨ä¸Šå’Œ useEffect æ²¡æœ‰åŒºåˆ«</p><h3 id="debugvalue-hook" tabindex="-1">DebugValue Hook <a class="header-anchor" href="#debugvalue-hook" aria-hidden="true">#</a></h3><p>useDebugValueï¼šç”¨äºå°†è‡ªå®šä¹‰ Hook çš„å…³è”æ•°æ®æ˜¾ç¤ºåˆ°è°ƒè¯•æ </p><p>å¦‚æœåˆ›å»ºçš„è‡ªå®šä¹‰ Hook é€šç”¨æ€§æ¯”è¾ƒé«˜ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨ useDebugValue æ–¹ä¾¿è°ƒè¯•</p><h1 id="hooks" tabindex="-1">Hooks <a class="header-anchor" href="#hooks" aria-hidden="true">#</a></h1><h3 id="å¯¹-react-hook-çš„ç†è§£-å®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ" tabindex="-1">å¯¹ React Hook çš„ç†è§£ï¼Œå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ <a class="header-anchor" href="#å¯¹-react-hook-çš„ç†è§£-å®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a></h3><p><strong>ï¼ˆ1ï¼‰ç±»ç»„ä»¶ï¼š</strong> æ‰€è°“ç±»ç»„ä»¶ï¼Œå°±æ˜¯åŸºäº ES6 Class è¿™ç§å†™æ³•ï¼Œé€šè¿‡ç»§æ‰¿ React.Component å¾—æ¥çš„ React ç»„ä»¶ã€‚å†…éƒ¨é¢„ç½®äº†ç›¸å½“å¤šçš„â€œç°æˆçš„ä¸œè¥¿â€ç­‰ç€æˆ‘ä»¬å»è°ƒåº¦/å®šåˆ¶ï¼Œstate å’Œç”Ÿå‘½å‘¨æœŸå°±æ˜¯è¿™äº›â€œç°æˆä¸œè¥¿â€ä¸­çš„å…¸å‹ã€‚è¦æƒ³å¾—åˆ°è¿™äº›ä¸œè¥¿ï¼Œéš¾åº¦ä¹Ÿä¸å¤§ï¼Œåªéœ€è¦ç»§æ‰¿ä¸€ä¸ª React.Component å³å¯ã€‚ä½¿å¾—<strong>ç±»ç»„ä»¶å†…éƒ¨çš„é€»è¾‘éš¾ä»¥å®ç°æ‹†åˆ†å’Œå¤ç”¨ã€‚</strong></p><p><strong>ï¼ˆ2ï¼‰å‡½æ•°ç»„ä»¶</strong>ï¼šå‡½æ•°ç»„ä»¶å°±æ˜¯ä»¥å‡½æ•°çš„å½¢æ€å­˜åœ¨çš„ React ç»„ä»¶ã€‚</p><p>ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ä¹‹é—´ï¼Œæ˜¯é¢å‘å¯¹è±¡å’Œå‡½æ•°å¼ç¼–ç¨‹è¿™ä¸¤å¥—ä¸åŒçš„è®¾è®¡æ€æƒ³ä¹‹é—´çš„å·®å¼‚ã€‚è€Œå‡½æ•°ç»„ä»¶æ›´åŠ å¥‘åˆ React æ¡†æ¶çš„è®¾è®¡ç†å¿µ</p><p>React ç»„ä»¶æœ¬èº«çš„å®šä½å°±æ˜¯å‡½æ•°ï¼Œä¸€ä¸ªè¾“å…¥æ•°æ®ã€è¾“å‡º UI çš„å‡½æ•°ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬ç¼–å†™çš„æ˜¯å£°æ˜å¼çš„ä»£ç ï¼Œè€Œ React æ¡†æ¶çš„ä¸»è¦å·¥ä½œï¼Œå°±æ˜¯åŠæ—¶åœ°æŠŠå£°æ˜å¼çš„ä»£ç è½¬æ¢ä¸ºå‘½ä»¤å¼çš„ DOM æ“ä½œï¼ŒæŠŠæ•°æ®å±‚é¢çš„æè¿°æ˜ å°„åˆ°ç”¨æˆ·å¯è§çš„ UI å˜åŒ–ä¸­å»ã€‚è¿™å°±æ„å‘³ç€ä»åŸåˆ™ä¸Šæ¥è®²ï¼ŒReact çš„æ•°æ®åº”è¯¥æ€»æ˜¯ç´§ç´§åœ°å’Œæ¸²æŸ“ç»‘å®šåœ¨ä¸€èµ·çš„ï¼Œè€Œç±»ç»„ä»¶åšä¸åˆ°è¿™ä¸€ç‚¹ã€‚<strong>å‡½æ•°ç»„ä»¶å°±çœŸæ­£åœ°å°†æ•°æ®å’Œæ¸²æŸ“ç»‘å®šåˆ°äº†ä¸€èµ·ã€‚å‡½æ•°ç»„ä»¶æ˜¯ä¸€ä¸ªæ›´åŠ åŒ¹é…å…¶è®¾è®¡ç†å¿µã€ä¹Ÿæ›´æœ‰åˆ©äºé€»è¾‘æ‹†åˆ†ä¸é‡ç”¨çš„ç»„ä»¶è¡¨è¾¾å½¢å¼ã€‚</strong></p><p><strong>ï¼ˆ1ï¼‰åœ¨ç»„ä»¶ä¹‹é—´å¤ç”¨çŠ¶æ€é€»è¾‘å¾ˆéš¾</strong></p><p>React æ²¡æœ‰æä¾›å°†å¯å¤ç”¨æ€§è¡Œä¸ºâ€œé™„åŠ â€åˆ°ç»„ä»¶çš„é€”å¾„ï¼ˆä¾‹å¦‚ï¼ŒæŠŠç»„ä»¶è¿æ¥åˆ° storeï¼‰è§£å†³æ­¤ç±»é—®é¢˜å¯ä»¥ä½¿ç”¨ render props å’Œ é«˜é˜¶ç»„ä»¶ã€‚ä½†æ˜¯è¿™ç±»æ–¹æ¡ˆéœ€è¦é‡æ–°ç»„ç»‡ç»„ä»¶ç»“æ„ï¼Œè¿™å¯èƒ½ä¼šå¾ˆéº»çƒ¦ï¼Œå¹¶ä¸”ä¼šä½¿ä»£ç éš¾ä»¥ç†è§£ã€‚ç”± providersï¼Œconsumersï¼Œé«˜é˜¶ç»„ä»¶ï¼Œrender props ç­‰å…¶ä»–æŠ½è±¡å±‚ç»„æˆçš„ç»„ä»¶ä¼šå½¢æˆâ€œåµŒå¥—åœ°ç‹±â€ã€‚å°½ç®¡å¯ä»¥åœ¨ DevTools è¿‡æ»¤æ‰å®ƒä»¬ï¼Œä½†è¿™è¯´æ˜äº†ä¸€ä¸ªæ›´æ·±å±‚æ¬¡çš„é—®é¢˜ï¼šReact éœ€è¦ä¸ºå…±äº«çŠ¶æ€é€»è¾‘æä¾›æ›´å¥½çš„åŸç”Ÿé€”å¾„ã€‚</p><p>å¯ä»¥ä½¿ç”¨ Hook ä»ç»„ä»¶ä¸­æå–çŠ¶æ€é€»è¾‘ï¼Œä½¿å¾—è¿™äº›é€»è¾‘å¯ä»¥å•ç‹¬æµ‹è¯•å¹¶å¤ç”¨ã€‚Hook ä½¿æˆ‘ä»¬åœ¨æ— éœ€ä¿®æ”¹ç»„ä»¶ç»“æ„çš„æƒ…å†µä¸‹å¤ç”¨çŠ¶æ€é€»è¾‘ã€‚ è¿™ä½¿å¾—åœ¨ç»„ä»¶é—´æˆ–ç¤¾åŒºå†…å…±äº« Hook å˜å¾—æ›´ä¾¿æ·ã€‚</p><p><strong>ï¼ˆ2ï¼‰å¤æ‚ç»„ä»¶å˜å¾—éš¾ä»¥ç†è§£</strong></p><p>åœ¨ç»„ä»¶ä¸­ï¼Œæ¯ä¸ªç”Ÿå‘½å‘¨æœŸå¸¸å¸¸åŒ…å«ä¸€äº›ä¸ç›¸å…³çš„é€»è¾‘ã€‚ä¾‹å¦‚ï¼Œç»„ä»¶å¸¸å¸¸åœ¨ componentDidMount å’Œ componentDidUpdate ä¸­è·å–æ•°æ®ã€‚ä½†æ˜¯ï¼ŒåŒä¸€ä¸ª componentDidMount ä¸­å¯èƒ½ä¹ŸåŒ…å«å¾ˆå¤šå…¶å®ƒçš„é€»è¾‘ï¼Œå¦‚è®¾ç½®äº‹ä»¶ç›‘å¬ï¼Œè€Œä¹‹åéœ€åœ¨ componentWillUnmount ä¸­æ¸…é™¤ã€‚ç›¸äº’å…³è”ä¸”éœ€è¦å¯¹ç…§ä¿®æ”¹çš„ä»£ç è¢«è¿›è¡Œäº†æ‹†åˆ†ï¼Œè€Œå®Œå…¨ä¸ç›¸å…³çš„ä»£ç å´åœ¨åŒä¸€ä¸ªæ–¹æ³•ä¸­ç»„åˆåœ¨ä¸€èµ·ã€‚å¦‚æ­¤å¾ˆå®¹æ˜“äº§ç”Ÿ bugï¼Œå¹¶ä¸”å¯¼è‡´é€»è¾‘ä¸ä¸€è‡´ã€‚</p><p>åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸å¯èƒ½å°†ç»„ä»¶æ‹†åˆ†ä¸ºæ›´å°çš„ç²’åº¦ï¼Œå› ä¸ºçŠ¶æ€é€»è¾‘æ— å¤„ä¸åœ¨ã€‚è¿™ä¹Ÿç»™æµ‹è¯•å¸¦æ¥äº†ä¸€å®šæŒ‘æˆ˜ã€‚åŒæ—¶ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šäººå°† React ä¸çŠ¶æ€ç®¡ç†åº“ç»“åˆä½¿ç”¨çš„åŸå› ä¹‹ä¸€ã€‚ä½†æ˜¯ï¼Œè¿™å¾€å¾€ä¼šå¼•å…¥äº†å¾ˆå¤šæŠ½è±¡æ¦‚å¿µï¼Œéœ€è¦ä½ åœ¨ä¸åŒçš„æ–‡ä»¶ä¹‹é—´æ¥å›åˆ‡æ¢ï¼Œä½¿å¾—å¤ç”¨å˜å¾—æ›´åŠ å›°éš¾ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒHook å°†ç»„ä»¶ä¸­ç›¸äº’å…³è”çš„éƒ¨åˆ†æ‹†åˆ†æˆæ›´å°çš„å‡½æ•°ï¼ˆæ¯”å¦‚è®¾ç½®è®¢é˜…æˆ–è¯·æ±‚æ•°æ®ï¼‰ï¼Œè€Œå¹¶éå¼ºåˆ¶æŒ‰ç…§ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨ reducer æ¥ç®¡ç†ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ï¼Œä½¿å…¶æ›´åŠ å¯é¢„æµ‹ã€‚</p><p><strong>ï¼ˆ3ï¼‰éš¾ä»¥ç†è§£çš„ class</strong></p><h3 id="ä¸ºä»€ä¹ˆ-usestate-è¦ä½¿ç”¨æ•°ç»„è€Œä¸æ˜¯å¯¹è±¡" tabindex="-1">ä¸ºä»€ä¹ˆ useState è¦ä½¿ç”¨æ•°ç»„è€Œä¸æ˜¯å¯¹è±¡ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆ-usestate-è¦ä½¿ç”¨æ•°ç»„è€Œä¸æ˜¯å¯¹è±¡" aria-hidden="true">#</a></h3><ul><li>å¦‚æœ useState è¿”å›çš„æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆä½¿ç”¨è€…å¯ä»¥å¯¹æ•°ç»„ä¸­çš„å…ƒç´ å‘½åï¼Œä»£ç çœ‹èµ·æ¥ä¹Ÿæ¯”è¾ƒå¹²å‡€</li><li>å¦‚æœ useState è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œåœ¨è§£æ„å¯¹è±¡çš„æ—¶å€™å¿…é¡»è¦å’Œ useState å†…éƒ¨å®ç°è¿”å›çš„å¯¹è±¡åŒåï¼Œæƒ³è¦ä½¿ç”¨å¤šæ¬¡çš„è¯ï¼Œå¿…é¡»å¾—è®¾ç½®åˆ«åæ‰èƒ½ä½¿ç”¨è¿”å›å€¼</li></ul><p>ä¸‹é¢æ¥çœ‹çœ‹å¦‚æœ useState è¿”å›å¯¹è±¡çš„æƒ…å†µï¼š</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// ç¬¬ä¸€æ¬¡ä½¿ç”¨</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> { </span><span style="color:#E5C07B;">state</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">setState</span><span style="color:#ABB2BF;"> } </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useState</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">false</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// ç¬¬äºŒæ¬¡ä½¿ç”¨</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">state</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">counter</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">setState</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">setCounter</span><span style="color:#ABB2BF;"> } </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useState</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#6B737C;">// ç¬¬ä¸€æ¬¡ä½¿ç”¨</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#B392F0;"> { </span><span style="color:#79B8FF;">state</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">setState</span><span style="color:#B392F0;"> } </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> useState(</span><span style="color:#79B8FF;">false</span><span style="color:#B392F0;">);</span></span>
<span class="line"><span style="color:#6B737C;">// ç¬¬äºŒæ¬¡ä½¿ç”¨</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#B392F0;"> { state: </span><span style="color:#79B8FF;">counter</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> setState: </span><span style="color:#79B8FF;">setCounter</span><span style="color:#B392F0;"> } </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> useState(</span><span style="color:#F8F8F8;">0</span><span style="color:#B392F0;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œè¿”å›å¯¹è±¡çš„ä½¿ç”¨æ–¹å¼è¿˜æ˜¯æŒºéº»çƒ¦çš„ï¼Œæ›´ä½•å†µå®é™…é¡¹ç›®ä¸­ä¼šä½¿ç”¨çš„æ›´é¢‘ç¹ã€‚ *<em>æ€»ç»“ï¼š__useState è¿”å›çš„æ˜¯ array è€Œä¸æ˜¯ object çš„åŸå› å°±æ˜¯ä¸ºäº†__é™ä½ä½¿ç”¨çš„å¤æ‚åº¦</em>ï¼Œè¿”å›æ•°ç»„çš„è¯å¯ä»¥ç›´æ¥æ ¹æ®é¡ºåºè§£æ„ï¼Œè€Œè¿”å›å¯¹è±¡çš„è¯è¦æƒ³ä½¿ç”¨å¤šæ¬¡å°±éœ€è¦å®šä¹‰åˆ«åäº†</p><h3 id="react-hook-çš„ä½¿ç”¨é™åˆ¶" tabindex="-1">React Hook çš„ä½¿ç”¨é™åˆ¶ <a class="header-anchor" href="#react-hook-çš„ä½¿ç”¨é™åˆ¶" aria-hidden="true">#</a></h3><p>React Hooks çš„é™åˆ¶ä¸»è¦æœ‰ä¸¤æ¡ï¼š</p><ul><li>ä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ Hookï¼›</li><li>åœ¨ React çš„å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨ Hookã€‚</li></ul><p>é‚£ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„é™åˆ¶å‘¢ï¼ŸHooks çš„è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†æ”¹è¿› React ç»„ä»¶çš„å¼€å‘æ¨¡å¼ã€‚åœ¨æ—§æœ‰çš„å¼€å‘æ¨¡å¼ä¸‹é‡åˆ°äº†ä¸‰ä¸ªé—®é¢˜ã€‚</p><ul><li>ç»„ä»¶ä¹‹é—´éš¾ä»¥å¤ç”¨çŠ¶æ€é€»è¾‘ã€‚è¿‡å»å¸¸è§çš„è§£å†³æ–¹æ¡ˆæ˜¯é«˜é˜¶ç»„ä»¶ã€render props åŠçŠ¶æ€ç®¡ç†æ¡†æ¶ã€‚</li><li>å¤æ‚çš„ç»„ä»¶å˜å¾—éš¾ä»¥ç†è§£ã€‚ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸ä¸šåŠ¡é€»è¾‘è€¦åˆå¤ªæ·±ï¼Œå¯¼è‡´å…³è”éƒ¨åˆ†éš¾ä»¥æ‹†åˆ†ã€‚</li><li>äººå’Œæœºå™¨éƒ½å¾ˆå®¹æ˜“æ··æ·†ç±»ã€‚å¸¸è§çš„æœ‰ this çš„é—®é¢˜ï¼Œä½†åœ¨ React å›¢é˜Ÿä¸­è¿˜æœ‰ç±»éš¾ä»¥ä¼˜åŒ–çš„é—®é¢˜ï¼Œå¸Œæœ›åœ¨ç¼–è¯‘ä¼˜åŒ–å±‚é¢åšå‡ºä¸€äº›æ”¹è¿›ã€‚</li></ul><p>è¿™ä¸‰ä¸ªé—®é¢˜åœ¨ä¸€å®šç¨‹åº¦ä¸Šé˜»ç¢äº† React çš„åç»­å‘å±•ï¼Œæ‰€ä»¥ä¸ºäº†è§£å†³è¿™ä¸‰ä¸ªé—®é¢˜ï¼ŒHooks <strong>åŸºäºå‡½æ•°ç»„ä»¶</strong>å¼€å§‹è®¾è®¡ã€‚ç„¶è€Œç¬¬ä¸‰ä¸ªé—®é¢˜å†³å®šäº† Hooks åªæ”¯æŒå‡½æ•°ç»„ä»¶ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ Hook å‘¢ï¼Ÿå› ä¸º Hooks çš„è®¾è®¡æ˜¯åŸºäºæ•°ç»„å®ç°ã€‚åœ¨è°ƒç”¨æ—¶æŒ‰é¡ºåºåŠ å…¥æ•°ç»„ä¸­ï¼Œå¦‚æœä½¿ç”¨å¾ªç¯ã€æ¡ä»¶æˆ–åµŒå¥—å‡½æ•°å¾ˆæœ‰å¯èƒ½å¯¼è‡´æ•°ç»„å–å€¼é”™ä½ï¼Œæ‰§è¡Œé”™è¯¯çš„ Hookã€‚å½“ç„¶ï¼Œå®è´¨ä¸Š React çš„æºç é‡Œä¸æ˜¯æ•°ç»„ï¼Œæ˜¯é“¾è¡¨ã€‚</p><p>è¿™äº›é™åˆ¶ä¼šåœ¨ç¼–ç ä¸Šé€ æˆä¸€å®šç¨‹åº¦çš„å¿ƒæ™ºè´Ÿæ‹…ï¼Œæ–°æ‰‹å¯èƒ½ä¼šå†™é”™ï¼Œä¸ºäº†é¿å…è¿™æ ·çš„æƒ…å†µï¼Œå¯ä»¥å¼•å…¥ ESLint çš„ Hooks æ£€æŸ¥æ’ä»¶è¿›è¡Œé¢„é˜²ã€‚</p><h3 id="useeffect-ä¸-uselayouteffect-çš„åŒºåˆ«" tabindex="-1">useEffect ä¸ useLayoutEffect çš„åŒºåˆ« <a class="header-anchor" href="#useeffect-ä¸-uselayouteffect-çš„åŒºåˆ«" aria-hidden="true">#</a></h3><p><strong>ï¼ˆ1ï¼‰å…±åŒç‚¹</strong></p><ul><li><strong>è¿ç”¨æ•ˆæœï¼š</strong> useEffect ä¸ useLayoutEffect ä¸¤è€…éƒ½æ˜¯ç”¨äºå¤„ç†å‰¯ä½œç”¨ï¼Œè¿™äº›å‰¯ä½œç”¨åŒ…æ‹¬æ”¹å˜ DOMã€è®¾ç½®è®¢é˜…ã€æ“ä½œå®šæ—¶å™¨ç­‰ã€‚åœ¨å‡½æ•°ç»„ä»¶å†…éƒ¨æ“ä½œå‰¯ä½œç”¨æ˜¯ä¸è¢«å…è®¸çš„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°å»å¤„ç†ã€‚</li><li><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong> useEffect ä¸ useLayoutEffect ä¸¤è€…åº•å±‚çš„å‡½æ•°ç­¾åæ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œéƒ½æ˜¯è°ƒç”¨çš„ mountEffectImpl æ–¹æ³•ï¼Œåœ¨ä½¿ç”¨ä¸Šä¹Ÿæ²¡ä»€ä¹ˆå·®å¼‚ï¼ŒåŸºæœ¬å¯ä»¥ç›´æ¥æ›¿æ¢ã€‚</li></ul><p><strong>ï¼ˆ2ï¼‰ä¸åŒç‚¹</strong></p><ul><li><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> useEffect åœ¨ React çš„æ¸²æŸ“è¿‡ç¨‹ä¸­æ˜¯è¢«å¼‚æ­¥è°ƒç”¨çš„ï¼Œç”¨äºç»å¤§å¤šæ•°åœºæ™¯ï¼›è€Œ useLayoutEffect ä¼šåœ¨æ‰€æœ‰çš„ DOM å˜æ›´ä¹‹ååŒæ­¥è°ƒç”¨ï¼Œä¸»è¦ç”¨äºå¤„ç† DOM æ“ä½œã€è°ƒæ•´æ ·å¼ã€é¿å…é¡µé¢é—ªçƒç­‰é—®é¢˜ã€‚ä¹Ÿæ­£å› ä¸ºæ˜¯åŒæ­¥å¤„ç†ï¼Œæ‰€ä»¥éœ€è¦é¿å…åœ¨ useLayoutEffect åšè®¡ç®—é‡è¾ƒå¤§çš„è€—æ—¶ä»»åŠ¡ä»è€Œé€ æˆé˜»å¡ã€‚</li><li><strong>ä½¿ç”¨æ•ˆæœï¼š</strong> useEffect æ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œä»£ç çš„ï¼Œæ”¹å˜å±å¹•åƒç´ ä¹‹åæ‰§è¡Œï¼ˆå…ˆæ¸²æŸ“ï¼Œåæ”¹å˜ DOMï¼‰ï¼Œå½“æ”¹å˜å±å¹•å†…å®¹æ—¶å¯èƒ½ä¼šäº§ç”Ÿé—ªçƒï¼›useLayoutEffect æ˜¯æ”¹å˜å±å¹•åƒç´ ä¹‹å‰å°±æ‰§è¡Œäº†ï¼ˆä¼šæ¨è¿Ÿé¡µé¢æ˜¾ç¤ºçš„äº‹ä»¶ï¼Œå…ˆæ”¹å˜ DOM åæ¸²æŸ“ï¼‰ï¼Œä¸ä¼šäº§ç”Ÿé—ªçƒã€‚<strong>useLayoutEffect æ€»æ˜¯æ¯” useEffect å…ˆæ‰§è¡Œã€‚</strong></li></ul><p>åœ¨æœªæ¥çš„è¶‹åŠ¿ä¸Šï¼Œä¸¤ä¸ª API æ˜¯ä¼šé•¿æœŸå…±å­˜çš„ï¼Œæš‚æ—¶æ²¡æœ‰åˆ å‡åˆå¹¶çš„è®¡åˆ’ï¼Œéœ€è¦å¼€å‘è€…æ ¹æ®åœºæ™¯å»è‡ªè¡Œé€‰æ‹©ã€‚React å›¢é˜Ÿçš„å»ºè®®éå¸¸å®ç”¨ï¼Œå¦‚æœå®åœ¨åˆ†ä¸æ¸…ï¼Œå…ˆç”¨ useEffectï¼Œä¸€èˆ¬é—®é¢˜ä¸å¤§ï¼›å¦‚æœé¡µé¢æœ‰å¼‚å¸¸ï¼Œå†ç›´æ¥æ›¿æ¢ä¸º useLayoutEffect å³å¯ã€‚</p><h3 id="åœ¨å¹³æ—¶å¼€å‘ä¸­éœ€è¦æ³¨æ„çš„é—®é¢˜å’ŒåŸå› " tabindex="-1">åœ¨å¹³æ—¶å¼€å‘ä¸­éœ€è¦æ³¨æ„çš„é—®é¢˜å’ŒåŸå›  <a class="header-anchor" href="#åœ¨å¹³æ—¶å¼€å‘ä¸­éœ€è¦æ³¨æ„çš„é—®é¢˜å’ŒåŸå› " aria-hidden="true">#</a></h3><p>ï¼ˆ1ï¼‰<strong>ä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ Hookï¼Œå¿…é¡»å§‹ç»ˆåœ¨ React å‡½æ•°çš„é¡¶å±‚ä½¿ç”¨ Hook</strong></p><p>è¿™æ˜¯å› ä¸º React éœ€è¦åˆ©ç”¨è°ƒç”¨é¡ºåºæ¥æ­£ç¡®æ›´æ–°ç›¸åº”çš„çŠ¶æ€ï¼Œä»¥åŠè°ƒç”¨ç›¸åº”çš„é’©å­å‡½æ•°ã€‚ä¸€æ—¦åœ¨å¾ªç¯æˆ–æ¡ä»¶åˆ†æ”¯è¯­å¥ä¸­è°ƒç”¨ Hookï¼Œå°±å®¹æ˜“å¯¼è‡´è°ƒç”¨é¡ºåºçš„ä¸ä¸€è‡´æ€§ï¼Œä»è€Œäº§ç”Ÿéš¾ä»¥é¢„æ–™åˆ°çš„åæœã€‚</p><p><strong>ï¼ˆ2ï¼‰ä½¿ç”¨ useState æ—¶å€™ï¼Œä½¿ç”¨ pushï¼Œpopï¼Œsplice ç­‰ç›´æ¥æ›´æ”¹æ•°ç»„å¯¹è±¡çš„å‘</strong></p><p>ä½¿ç”¨ push ç›´æ¥æ›´æ”¹æ•°ç»„æ— æ³•è·å–åˆ°æ–°å€¼ï¼Œåº”è¯¥é‡‡ç”¨ææ„æ–¹å¼ï¼Œä½†æ˜¯åœ¨ class é‡Œé¢ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚</p><p>ï¼ˆ3ï¼‰<strong>useState è®¾ç½®çŠ¶æ€çš„æ—¶å€™ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡ç”Ÿæ•ˆï¼ŒåæœŸéœ€è¦æ›´æ–°çŠ¶æ€ï¼Œå¿…é¡»é€šè¿‡ useEffect</strong></p><p>TableDeail æ˜¯ä¸€ä¸ªå…¬å…±ç»„ä»¶ï¼Œåœ¨è°ƒç”¨å®ƒçš„çˆ¶ç»„ä»¶é‡Œé¢ï¼Œæˆ‘ä»¬é€šè¿‡ set æ”¹å˜ columns çš„å€¼ï¼Œä»¥ä¸ºä¼ é€’ç»™ TableDeail çš„ columns æ˜¯æœ€æ–°çš„å€¼ï¼Œæ‰€ä»¥ tabColumn æ¯æ¬¡ä¹Ÿæ˜¯æœ€æ–°çš„å€¼ï¼Œä½†æ˜¯å®é™… tabColumn æ˜¯æœ€å¼€å§‹çš„å€¼ï¼Œä¸ä¼šéšç€ columns çš„æ›´æ–°è€Œæ›´æ–°</p><p><strong>ï¼ˆ4ï¼‰å–„ç”¨ useCallback</strong></p><p>çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶äº‹ä»¶å¥æŸ„æ—¶ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰ä»»ä½•å‚æ•°å˜åŠ¨å¯èƒ½ä¼šé€‰ç”¨ useMemoã€‚ä½†æ˜¯æ¯ä¸€æ¬¡çˆ¶ç»„ä»¶æ¸²æŸ“å­ç»„ä»¶å³ä½¿æ²¡å˜åŒ–ä¹Ÿä¼šè·Ÿç€æ¸²æŸ“ä¸€æ¬¡ã€‚</p><p><strong>ï¼ˆ5ï¼‰ä¸è¦æ»¥ç”¨ useContext</strong></p><p>å¯ä»¥ä½¿ç”¨åŸºäº useContext å°è£…çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚</p><h3 id="react-hooks-å’Œç”Ÿå‘½å‘¨æœŸçš„å…³ç³»" tabindex="-1">React Hooks å’Œç”Ÿå‘½å‘¨æœŸçš„å…³ç³»ï¼Ÿ <a class="header-anchor" href="#react-hooks-å’Œç”Ÿå‘½å‘¨æœŸçš„å…³ç³»" aria-hidden="true">#</a></h3><p><strong>å‡½æ•°ç»„ä»¶</strong> çš„æœ¬è´¨æ˜¯å‡½æ•°ï¼Œæ²¡æœ‰ state çš„æ¦‚å¿µçš„ï¼Œå› æ­¤<strong>ä¸å­˜åœ¨ç”Ÿå‘½å‘¨æœŸ</strong>ä¸€è¯´ï¼Œä»…ä»…æ˜¯ä¸€ä¸ª <strong>render å‡½æ•°</strong>è€Œå·²ã€‚ ä½†æ˜¯å¼•å…¥ <strong>Hooks</strong> ä¹‹åå°±å˜å¾—ä¸åŒäº†ï¼Œå®ƒèƒ½è®©ç»„ä»¶åœ¨ä¸ä½¿ç”¨ class çš„æƒ…å†µä¸‹æ‹¥æœ‰ stateï¼Œæ‰€ä»¥å°±æœ‰äº†ç”Ÿå‘½å‘¨æœŸçš„æ¦‚å¿µï¼Œæ‰€è°“çš„ç”Ÿå‘½å‘¨æœŸå…¶å®å°±æ˜¯ <code>useState</code>ã€ <code>useEffect()</code> å’Œ <code>useLayoutEffect()</code> ã€‚</p><p>å³ï¼š<strong>Hooks ç»„ä»¶ï¼ˆä½¿ç”¨äº† Hooks çš„å‡½æ•°ç»„ä»¶ï¼‰æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œè€Œå‡½æ•°ç»„ä»¶ï¼ˆæœªä½¿ç”¨ Hooks çš„å‡½æ•°ç»„ä»¶ï¼‰æ˜¯æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸçš„</strong>ã€‚</p><p>ä¸‹é¢æ˜¯å…·ä½“çš„ class ä¸ Hooks çš„<strong>ç”Ÿå‘½å‘¨æœŸå¯¹åº”å…³ç³»</strong>ï¼š</p><ul><li><code>constructor</code>ï¼šå‡½æ•°ç»„ä»¶ä¸éœ€è¦æ„é€ å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨ <code>**useState æ¥åˆå§‹åŒ– state**</code>ã€‚å¦‚æœè®¡ç®—çš„ä»£ä»·æ¯”è¾ƒæ˜‚è´µï¼Œä¹Ÿå¯ä»¥ä¼ ä¸€ä¸ªå‡½æ•°ç»™ <code>useState</code>ã€‚</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> [</span><span style="color:#E5C07B;">num</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">UpdateNum</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useState</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#B392F0;"> [</span><span style="color:#79B8FF;">num</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">UpdateNum</span><span style="color:#B392F0;">] </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> useState(</span><span style="color:#F8F8F8;">0</span><span style="color:#B392F0;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>getDerivedStateFromProps</code>ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨å®ƒï¼Œå¯ä»¥åœ¨<strong>æ¸²æŸ“è¿‡ç¨‹ä¸­æ›´æ–° state</strong>ï¼Œä»¥è¾¾åˆ°å®ç° <code>getDerivedStateFromProps</code> çš„ç›®çš„ã€‚</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">ScrollView</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;font-style:italic;">row</span><span style="color:#ABB2BF;"> }) {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">let</span><span style="color:#ABB2BF;"> [</span><span style="color:#E06C75;">isScrollingDown</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">setIsScrollingDown</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useState</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">false</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">let</span><span style="color:#ABB2BF;"> [</span><span style="color:#E06C75;">prevRow</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">setPrevRow</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useState</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">null</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">row</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">!==</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">prevRow</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">// Row è‡ªä¸Šæ¬¡æ¸²æŸ“ä»¥æ¥å‘ç”Ÿè¿‡æ”¹å˜ã€‚æ›´æ–° isScrollingDownã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#61AFEF;">setIsScrollingDown</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">prevRow</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">!==</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">null</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">row</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">prevRow</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#61AFEF;">setPrevRow</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">row</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`Scrolling down: </span><span style="color:#C678DD;">${</span><span style="color:#E06C75;">isScrollingDown</span><span style="color:#C678DD;">}</span><span style="color:#98C379;">`</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> ScrollView({ row }) {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">let</span><span style="color:#B392F0;"> [isScrollingDown</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> setIsScrollingDown] </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> useState(</span><span style="color:#79B8FF;">false</span><span style="color:#B392F0;">);</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">let</span><span style="color:#B392F0;"> [prevRow</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> setPrevRow] </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> useState(</span><span style="color:#79B8FF;">null</span><span style="color:#B392F0;">);</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">if</span><span style="color:#B392F0;"> (row </span><span style="color:#F97583;">!==</span><span style="color:#B392F0;"> prevRow) {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#6B737C;">// Row è‡ªä¸Šæ¬¡æ¸²æŸ“ä»¥æ¥å‘ç”Ÿè¿‡æ”¹å˜ã€‚æ›´æ–° isScrollingDownã€‚</span></span>
<span class="line"><span style="color:#B392F0;">    setIsScrollingDown(prevRow </span><span style="color:#F97583;">!==</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">null</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#B392F0;"> row </span><span style="color:#F97583;">&gt;</span><span style="color:#B392F0;"> prevRow);</span></span>
<span class="line"><span style="color:#B392F0;">    setPrevRow(row);</span></span>
<span class="line"><span style="color:#B392F0;">  }</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">`Scrolling down: </span><span style="color:#F97583;">${</span><span style="color:#B392F0;">isScrollingDown</span><span style="color:#F97583;">}</span><span style="color:#FFAB70;">`</span><span style="color:#B392F0;">;</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>React ä¼šç«‹å³é€€å‡ºç¬¬ä¸€æ¬¡æ¸²æŸ“å¹¶ç”¨æ›´æ–°åçš„ state é‡æ–°è¿è¡Œç»„ä»¶ä»¥é¿å…è€—è´¹å¤ªå¤šæ€§èƒ½ã€‚</p><ul><li><code>shouldComponentUpdate</code>ï¼šå¯ä»¥ç”¨ <code>React.memo</code> åŒ…è£¹ä¸€ä¸ªç»„ä»¶æ¥å¯¹å®ƒçš„ <code>props</code> è¿›è¡Œæµ…æ¯”è¾ƒ</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Button</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">React</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">memo</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">props</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {  </span><span style="color:#7F848E;font-style:italic;">// å…·ä½“çš„ç»„ä»¶});</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Button</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">React</span><span style="color:#B392F0;">.memo((props) </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {  </span><span style="color:#6B737C;">// å…·ä½“çš„ç»„ä»¶});</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>æ³¨æ„ï¼š<code>React.memo ç­‰æ•ˆäº</code>PureComponent<code>ï¼Œå®ƒåªæµ…æ¯”è¾ƒ propsã€‚è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨</code>useMemo` ä¼˜åŒ–æ¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p><ul><li><code>render</code>ï¼šè¿™æ˜¯å‡½æ•°ç»„ä»¶ä½“æœ¬èº«ã€‚</li><li><code>componentDidMount</code>, <code>componentDidUpdate</code>ï¼š <code>useLayoutEffect</code> ä¸å®ƒä»¬ä¸¤çš„è°ƒç”¨é˜¶æ®µæ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬æ¨èä½ <strong>ä¸€å¼€å§‹å…ˆç”¨ useEffect</strong>ï¼Œåªæœ‰å½“å®ƒå‡ºé—®é¢˜çš„æ—¶å€™å†å°è¯•ä½¿ç”¨ <code>useLayoutEffect</code>ã€‚<code>useEffect</code> å¯ä»¥è¡¨è¾¾æ‰€æœ‰è¿™äº›çš„ç»„åˆã€‚</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// componentDidMount</span></span>
<span class="line"><span style="color:#61AFEF;">useEffect</span><span style="color:#ABB2BF;">(() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// éœ€è¦åœ¨ componentDidMount æ‰§è¡Œçš„å†…å®¹</span></span>
<span class="line"><span style="color:#ABB2BF;">}, []);</span></span>
<span class="line"><span style="color:#61AFEF;">useEffect</span><span style="color:#ABB2BF;">(() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// åœ¨ componentDidMountï¼Œä»¥åŠ count æ›´æ”¹æ—¶ componentDidUpdate æ‰§è¡Œçš„å†…å®¹</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E5C07B;">document</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`You clicked </span><span style="color:#C678DD;">${</span><span style="color:#E06C75;">count</span><span style="color:#C678DD;">}</span><span style="color:#98C379;"> times`</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">// éœ€è¦åœ¨ count æ›´æ”¹æ—¶ componentDidUpdateï¼ˆå…ˆäº document.title = ... æ‰§è¡Œï¼Œéµå®ˆå…ˆæ¸…ç†åæ›´æ–°ï¼‰</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">// ä»¥åŠ componentWillUnmount æ‰§è¡Œçš„å†…å®¹</span></span>
<span class="line"><span style="color:#ABB2BF;">  }; </span><span style="color:#7F848E;font-style:italic;">// å½“å‡½æ•°ä¸­ Cleanup å‡½æ•°ä¼šæŒ‰ç…§åœ¨ä»£ç ä¸­å®šä¹‰çš„é¡ºåºå…ˆåæ‰§è¡Œï¼Œä¸å‡½æ•°æœ¬èº«çš„ç‰¹æ€§æ— å…³</span></span>
<span class="line"><span style="color:#ABB2BF;">}, [</span><span style="color:#E06C75;">count</span><span style="color:#ABB2BF;">]); </span><span style="color:#7F848E;font-style:italic;">// ä»…åœ¨ count æ›´æ”¹æ—¶æ›´æ–°</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#6B737C;">// componentDidMount</span></span>
<span class="line"><span style="color:#B392F0;">useEffect(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#6B737C;">// éœ€è¦åœ¨ componentDidMount æ‰§è¡Œçš„å†…å®¹</span></span>
<span class="line"><span style="color:#B392F0;">}</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> []);</span></span>
<span class="line"><span style="color:#B392F0;">useEffect(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#6B737C;">// åœ¨ componentDidMountï¼Œä»¥åŠ count æ›´æ”¹æ—¶ componentDidUpdate æ‰§è¡Œçš„å†…å®¹</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#79B8FF;">document</span><span style="color:#B392F0;">.title </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">`You clicked </span><span style="color:#F97583;">${</span><span style="color:#B392F0;">count</span><span style="color:#F97583;">}</span><span style="color:#FFAB70;"> times`</span><span style="color:#B392F0;">;</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#6B737C;">// éœ€è¦åœ¨ count æ›´æ”¹æ—¶ componentDidUpdateï¼ˆå…ˆäº document.title = ... æ‰§è¡Œï¼Œéµå®ˆå…ˆæ¸…ç†åæ›´æ–°ï¼‰</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#6B737C;">// ä»¥åŠ componentWillUnmount æ‰§è¡Œçš„å†…å®¹</span></span>
<span class="line"><span style="color:#B392F0;">  }; </span><span style="color:#6B737C;">// å½“å‡½æ•°ä¸­ Cleanup å‡½æ•°ä¼šæŒ‰ç…§åœ¨ä»£ç ä¸­å®šä¹‰çš„é¡ºåºå…ˆåæ‰§è¡Œï¼Œä¸å‡½æ•°æœ¬èº«çš„ç‰¹æ€§æ— å…³</span></span>
<span class="line"><span style="color:#B392F0;">}</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> [count]); </span><span style="color:#6B737C;">// ä»…åœ¨ count æ›´æ”¹æ—¶æ›´æ–°</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>è¯·è®°å¾— React ä¼šç­‰å¾…æµè§ˆå™¨å®Œæˆç”»é¢æ¸²æŸ“ä¹‹åæ‰ä¼šå»¶è¿Ÿè°ƒç”¨ ï¼Œå› æ­¤ä¼šä½¿å¾—é¢å¤–æ“ä½œå¾ˆæ–¹ä¾¿</strong></p><ul><li><code>componentWillUnmount</code>ï¼šç›¸å½“äº <code>useEffect</code>é‡Œé¢è¿”å›çš„ <code>cleanup</code> å‡½æ•°</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// componentDidMount/componentWillUnmount</span></span>
<span class="line"><span style="color:#61AFEF;">useEffect</span><span style="color:#ABB2BF;">(() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// éœ€è¦åœ¨ componentDidMount æ‰§è¡Œçš„å†…å®¹</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">cleanup</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">// éœ€è¦åœ¨ componentWillUnmount æ‰§è¡Œçš„å†…å®¹</span></span>
<span class="line"><span style="color:#ABB2BF;">  };</span></span>
<span class="line"><span style="color:#ABB2BF;">}, []);</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#6B737C;">// componentDidMount/componentWillUnmount</span></span>
<span class="line"><span style="color:#B392F0;">useEffect(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#6B737C;">// éœ€è¦åœ¨ componentDidMount æ‰§è¡Œçš„å†…å®¹</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> cleanup() {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#6B737C;">// éœ€è¦åœ¨ componentWillUnmount æ‰§è¡Œçš„å†…å®¹</span></span>
<span class="line"><span style="color:#B392F0;">  };</span></span>
<span class="line"><span style="color:#B392F0;">}</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> []);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><code>componentDidCatch</code> and <code>getDerivedStateFromError</code>ï¼šç›®å‰<strong>è¿˜æ²¡æœ‰</strong>è¿™äº›æ–¹æ³•çš„ Hook ç­‰ä»·å†™æ³•ï¼Œä½†å¾ˆå¿«ä¼šåŠ ä¸Šã€‚ <table><thead><tr><th><strong>class ç»„ä»¶</strong></th><th><strong>Hooks ç»„ä»¶</strong></th></tr></thead><tbody><tr><td>constructor</td><td>useState</td></tr><tr><td>getDerivedStateFromProps</td><td>useState é‡Œé¢ update å‡½æ•°</td></tr><tr><td>shouldComponentUpdate</td><td>useMemo</td></tr><tr><td>render</td><td>å‡½æ•°æœ¬èº«</td></tr><tr><td>componentDidMount</td><td>useEffect</td></tr><tr><td>componentDidUpdate</td><td>useEffect</td></tr><tr><td>componentWillUnmount</td><td>useEffect é‡Œé¢è¿”å›çš„å‡½æ•°</td></tr><tr><td>componentDidCatch</td><td>æ— </td></tr><tr><td>getDerivedStateFromError</td><td>æ— </td></tr></tbody></table></li></ul><h2 id="è™šæ‹Ÿ-dom" tabindex="-1">è™šæ‹Ÿ DOM <a class="header-anchor" href="#è™šæ‹Ÿ-dom" aria-hidden="true">#</a></h2><h3 id="å¯¹è™šæ‹Ÿ-dom-çš„ç†è§£" tabindex="-1">å¯¹è™šæ‹Ÿ DOM çš„ç†è§£ï¼Ÿ <a class="header-anchor" href="#å¯¹è™šæ‹Ÿ-dom-çš„ç†è§£" aria-hidden="true">#</a></h3><p>Virtual Dom æ˜¯ä¸€ä¸ª JavaScript å¯¹è±¡ï¼Œé€šè¿‡å¯¹è±¡çš„æ–¹å¼æ¥è¡¨ç¤º DOM ç»“æ„ã€‚å°†é¡µé¢çš„çŠ¶æ€æŠ½è±¡ä¸º JS å¯¹è±¡çš„å½¢å¼ï¼Œé…åˆä¸åŒçš„æ¸²æŸ“å·¥å…·ï¼Œä½¿è·¨å¹³å°æ¸²æŸ“æˆä¸ºå¯èƒ½ã€‚é€šè¿‡äº‹åŠ¡å¤„ç†æœºåˆ¶ï¼Œå°†å¤šæ¬¡ DOM ä¿®æ”¹çš„ç»“æœä¸€æ¬¡æ€§çš„æ›´æ–°åˆ°é¡µé¢ä¸Šï¼Œä»è€Œæœ‰æ•ˆçš„å‡å°‘é¡µé¢æ¸²æŸ“çš„æ¬¡æ•°ï¼Œå‡å°‘ä¿®æ”¹ DOM çš„é‡ç»˜é‡æ’æ¬¡æ•°ï¼Œæé«˜æ¸²æŸ“æ€§èƒ½ã€‚</p><p>è™šæ‹Ÿ DOM æ˜¯å¯¹ DOM çš„æŠ½è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯æ›´åŠ è½»é‡çº§çš„å¯¹ DOM çš„æè¿°ã€‚å®ƒè®¾è®¡çš„æœ€åˆç›®çš„ï¼Œ<strong>å°±æ˜¯æ›´å¥½çš„è·¨å¹³å°</strong>ï¼Œæ¯”å¦‚ node.js å°±æ²¡æœ‰ DOMï¼Œå¦‚æœæƒ³å®ç° SSRï¼Œé‚£ä¹ˆä¸€ä¸ªæ–¹å¼å°±æ˜¯å€ŸåŠ©è™šæ‹Ÿ domï¼Œå› ä¸ºè™šæ‹Ÿ dom æœ¬èº«æ˜¯ js å¯¹è±¡ã€‚ åœ¨ä»£ç æ¸²æŸ“åˆ°é¡µé¢ä¹‹å‰ï¼Œvue æˆ–è€… react ä¼šæŠŠä»£ç è½¬æ¢æˆä¸€ä¸ªå¯¹è±¡ï¼ˆè™šæ‹Ÿ DOMï¼‰ã€‚ä»¥å¯¹è±¡çš„å½¢å¼æ¥æè¿°çœŸå® dom ç»“æ„ï¼Œæœ€ç»ˆæ¸²æŸ“åˆ°é¡µé¢ã€‚åœ¨æ¯æ¬¡æ•°æ®å‘ç”Ÿå˜åŒ–å‰ï¼Œè™šæ‹Ÿ dom éƒ½ä¼šç¼“å­˜ä¸€ä»½ï¼Œå˜åŒ–ä¹‹æ—¶ï¼Œç°åœ¨çš„è™šæ‹Ÿ dom ä¼šä¸ç¼“å­˜çš„è™šæ‹Ÿ dom è¿›è¡Œæ¯”è¾ƒã€‚åœ¨ vue æˆ–è€… react å†…éƒ¨å°è£…äº† diff ç®—æ³•ï¼Œé€šè¿‡è¿™ä¸ªç®—æ³•æ¥è¿›è¡Œæ¯”è¾ƒï¼Œæ¸²æŸ“æ—¶ä¿®æ”¹æ”¹å˜çš„å˜åŒ–ï¼ŒåŸå…ˆæ²¡æœ‰å‘ç”Ÿæ”¹å˜çš„é€šè¿‡åŸå…ˆçš„æ•°æ®è¿›è¡Œæ¸²æŸ“ã€‚</p><p>å¦å¤–ç°ä»£å‰ç«¯æ¡†æ¶çš„ä¸€ä¸ªåŸºæœ¬è¦æ±‚å°±æ˜¯æ— é¡»æ‰‹åŠ¨æ“ä½œ DOMï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºæ‰‹åŠ¨æ“ä½œ DOM æ— æ³•ä¿è¯ç¨‹åºæ€§èƒ½ï¼Œå¤šäººåä½œçš„é¡¹ç›®ä¸­å¦‚æœ review ä¸ä¸¥æ ¼ï¼Œå¯èƒ½ä¼šæœ‰å¼€å‘è€…å†™å‡ºæ€§èƒ½è¾ƒä½çš„ä»£ç ï¼Œå¦ä¸€æ–¹é¢æ›´é‡è¦çš„æ˜¯çœç•¥æ‰‹åŠ¨ DOM æ“ä½œå¯ä»¥å¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚</p><p><strong>ä¸ºä»€ä¹ˆè¦ç”¨ Virtual DOMï¼š</strong></p><p><strong>ï¼ˆ1ï¼‰ä¿è¯æ€§èƒ½ä¸‹é™ï¼Œåœ¨ä¸è¿›è¡Œæ‰‹åŠ¨ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œæä¾›è¿‡å¾—å»çš„æ€§èƒ½</strong></p><p>ä¸‹é¢å¯¹æ¯”ä¸€ä¸‹ä¿®æ”¹ DOM æ—¶çœŸå® DOM æ“ä½œå’Œ Virtual DOM çš„è¿‡ç¨‹ï¼Œæ¥çœ‹ä¸€ä¸‹å®ƒä»¬é‡æ’é‡ç»˜çš„æ€§èƒ½æ¶ˆè€— âˆ¶</p><ul><li>çœŸå® DOMâˆ¶ ç”Ÿæˆ HTML å­—ç¬¦ä¸²ï¼‹ é‡å»ºæ‰€æœ‰çš„ DOM å…ƒç´ </li><li>Virtual DOMâˆ¶ ç”Ÿæˆ vNode ï¼‹ DOMDiff ï¼‹å¿…è¦çš„ DOM æ›´æ–°</li></ul><p>Virtual DOM çš„æ›´æ–° DOM çš„å‡†å¤‡å·¥ä½œè€—è´¹æ›´å¤šçš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ JS å±‚é¢ï¼Œç›¸æ¯”äºæ›´å¤šçš„ DOM æ“ä½œå®ƒçš„æ¶ˆè´¹æ˜¯æå…¶ä¾¿å®œçš„ã€‚å°¤é›¨æºªåœ¨ç¤¾åŒºè®ºå›ä¸­è¯´é“ âˆ¶ æ¡†æ¶ç»™ä½ çš„ä¿è¯æ˜¯ï¼Œä½ ä¸éœ€è¦æ‰‹åŠ¨ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä¾ç„¶å¯ä»¥ç»™ä½ æä¾›è¿‡å¾—å»çš„æ€§èƒ½ã€‚ <strong>ï¼ˆ2ï¼‰è·¨å¹³å°</strong> Virtual DOM æœ¬è´¨ä¸Šæ˜¯ JavaScript çš„å¯¹è±¡ï¼Œå®ƒå¯ä»¥å¾ˆæ–¹ä¾¿çš„è·¨å¹³å°æ“ä½œï¼Œæ¯”å¦‚æœåŠ¡ç«¯æ¸²æŸ“ã€uniapp ç­‰ã€‚</p><h3 id="react-diff-ç®—æ³•çš„åŸç†æ˜¯ä»€ä¹ˆ" tabindex="-1">React diff ç®—æ³•çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#react-diff-ç®—æ³•çš„åŸç†æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a></h3><p>å®é™…ä¸Šï¼Œdiff ç®—æ³•æ¢è®¨çš„å°±æ˜¯è™šæ‹Ÿ DOM æ ‘å‘ç”Ÿå˜åŒ–åï¼Œç”Ÿæˆ DOM æ ‘æ›´æ–°è¡¥ä¸çš„æ–¹å¼ã€‚å®ƒé€šè¿‡å¯¹æ¯”æ–°æ—§ä¸¤æ ªè™šæ‹Ÿ DOM æ ‘çš„å˜æ›´å·®å¼‚ï¼Œå°†æ›´æ–°è¡¥ä¸ä½œç”¨äºçœŸå® DOMï¼Œä»¥æœ€å°æˆæœ¬å®Œæˆè§†å›¾æ›´æ–°ã€‚</p><p>å…·ä½“çš„æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>çœŸå®çš„ DOM é¦–å…ˆä¼šæ˜ å°„ä¸ºè™šæ‹Ÿ DOMï¼›</li><li>å½“è™šæ‹Ÿ DOM å‘ç”Ÿå˜åŒ–åï¼Œå°±ä¼šæ ¹æ®å·®è·è®¡ç®—ç”Ÿæˆ patchï¼Œè¿™ä¸ª patch æ˜¯ä¸€ä¸ªç»“æ„åŒ–çš„æ•°æ®ï¼Œå†…å®¹åŒ…å«äº†å¢åŠ ã€æ›´æ–°ã€ç§»é™¤ç­‰ï¼›</li><li>æ ¹æ® patch å»æ›´æ–°çœŸå®çš„ DOMï¼Œåé¦ˆåˆ°ç”¨æˆ·çš„ç•Œé¢ä¸Šã€‚ ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">React</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;react&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">ExampleComponent</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">extends</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">React</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">Component</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">render</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">props</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">isVisible</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">className</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;visible&quot;</span><span style="color:#ABB2BF;">&gt;visbile&lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">className</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;hidden&quot;</span><span style="color:#ABB2BF;">&gt;hidden&lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;;</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#B392F0;"> React </span><span style="color:#F97583;">from</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;react&quot;</span><span style="color:#B392F0;">;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">default</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">class</span><span style="color:#B392F0;"> ExampleComponent </span><span style="color:#F97583;">extends</span><span style="color:#B392F0;"> React.Component {</span></span>
<span class="line"><span style="color:#B392F0;">  render() {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">if</span><span style="color:#B392F0;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#B392F0;">.</span><span style="color:#79B8FF;">props</span><span style="color:#B392F0;">.isVisible) {</span></span>
<span class="line"><span style="color:#B392F0;">      </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> &lt;</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;"> className</span><span style="color:#F97583;">=</span><span style="color:#FFAB70;">&quot;visible&quot;</span><span style="color:#B392F0;">&gt;visbile&lt;/</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;">&gt;;</span></span>
<span class="line"><span style="color:#B392F0;">    }</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> &lt;</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;"> className</span><span style="color:#F97583;">=</span><span style="color:#FFAB70;">&quot;hidden&quot;</span><span style="color:#B392F0;">&gt;hidden&lt;/</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;">&gt;;</span></span>
<span class="line"><span style="color:#B392F0;">  }</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>è¿™é‡Œï¼Œé¦–å…ˆå‡å®š ExampleComponent å¯è§ï¼Œç„¶åå†æ”¹å˜å®ƒçš„çŠ¶æ€ï¼Œè®©å®ƒä¸å¯è§ ã€‚æ˜ å°„ä¸ºçœŸå®çš„ DOM æ“ä½œæ˜¯è¿™æ ·çš„ï¼ŒReact ä¼šåˆ›å»ºä¸€ä¸ª div èŠ‚ç‚¹ã€‚</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">class</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;visible&quot;</span><span style="color:#ABB2BF;">&gt;visbile&lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#B392F0;">&lt;</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;"> class</span><span style="color:#F97583;">=</span><span style="color:#FFAB70;">&quot;visible&quot;</span><span style="color:#B392F0;">&gt;visbile&lt;/</span><span style="color:#FFAB70;">div</span><span style="color:#B392F0;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å½“æŠŠ visbile çš„å€¼å˜ä¸º false æ—¶ï¼Œå°±ä¼šæ›¿æ¢ class å±æ€§ä¸º hiddenï¼Œå¹¶é‡å†™å†…éƒ¨çš„ innerText ä¸º hiddenã€‚<strong>è¿™æ ·ä¸€ä¸ªç”Ÿæˆè¡¥ä¸ã€æ›´æ–°å·®å¼‚çš„è¿‡ç¨‹ç»Ÿç§°ä¸º diff ç®—æ³•ã€‚</strong></p><p>diff ç®—æ³•å¯ä»¥æ€»ç»“ä¸ºä¸‰ä¸ªç­–ç•¥ï¼Œåˆ†åˆ«ä»æ ‘ã€ç»„ä»¶åŠå…ƒç´ ä¸‰ä¸ªå±‚é¢è¿›è¡Œå¤æ‚åº¦çš„ä¼˜åŒ–ï¼š</p><p><strong>ç­–ç•¥ä¸€ï¼šå¿½ç•¥èŠ‚ç‚¹è·¨å±‚çº§æ“ä½œåœºæ™¯ï¼Œæå‡æ¯”å¯¹æ•ˆç‡ã€‚ï¼ˆåŸºäºæ ‘è¿›è¡Œå¯¹æ¯”ï¼‰</strong></p><p>è¿™ä¸€ç­–ç•¥éœ€è¦è¿›è¡Œæ ‘æ¯”å¯¹ï¼Œå³å¯¹æ ‘è¿›è¡Œåˆ†å±‚æ¯”è¾ƒã€‚æ ‘æ¯”å¯¹çš„å¤„ç†æ‰‹æ³•æ˜¯éå¸¸â€œæš´åŠ›â€çš„ï¼Œå³ä¸¤æ£µæ ‘åªå¯¹åŒä¸€å±‚æ¬¡çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå‘ç°èŠ‚ç‚¹å·²ç»ä¸å­˜åœ¨äº†ï¼Œåˆ™è¯¥èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹ä¼šè¢«å®Œå…¨åˆ é™¤æ‰ï¼Œä¸ä¼šç”¨äºè¿›ä¸€æ­¥çš„æ¯”è¾ƒï¼Œè¿™å°±æå‡äº†æ¯”å¯¹æ•ˆç‡ã€‚</p><p><strong>ç­–ç•¥äºŒï¼šå¦‚æœç»„ä»¶çš„ class ä¸€è‡´ï¼Œåˆ™é»˜è®¤ä¸ºç›¸ä¼¼çš„æ ‘ç»“æ„ï¼Œå¦åˆ™é»˜è®¤ä¸ºä¸åŒçš„æ ‘ç»“æ„ã€‚ï¼ˆåŸºäºç»„ä»¶è¿›è¡Œå¯¹æ¯”ï¼‰</strong></p><p>åœ¨ç»„ä»¶æ¯”å¯¹çš„è¿‡ç¨‹ä¸­ï¼š</p><ul><li>å¦‚æœç»„ä»¶æ˜¯åŒä¸€ç±»å‹åˆ™è¿›è¡Œæ ‘æ¯”å¯¹ï¼›</li><li>å¦‚æœä¸æ˜¯åˆ™ç›´æ¥æ”¾å…¥è¡¥ä¸ä¸­ã€‚</li></ul><p>åªè¦çˆ¶ç»„ä»¶ç±»å‹ä¸åŒï¼Œå°±ä¼šè¢«é‡æ–°æ¸²æŸ“ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆ shouldComponentUpdateã€PureComponent åŠ React.memo å¯ä»¥æé«˜æ€§èƒ½çš„åŸå› ã€‚</p><p><strong>ç­–ç•¥ä¸‰ï¼šåŒä¸€å±‚çº§çš„å­èŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡æ ‡è®° key çš„æ–¹å¼è¿›è¡Œåˆ—è¡¨å¯¹æ¯”ã€‚ï¼ˆåŸºäºèŠ‚ç‚¹è¿›è¡Œå¯¹æ¯”ï¼‰</strong></p><p>å…ƒç´ æ¯”å¯¹ä¸»è¦å‘ç”Ÿåœ¨åŒå±‚çº§ä¸­ï¼Œé€šè¿‡æ ‡è®°èŠ‚ç‚¹æ“ä½œç”Ÿæˆè¡¥ä¸ã€‚èŠ‚ç‚¹æ“ä½œåŒ…å«äº†æ’å…¥ã€ç§»åŠ¨ã€åˆ é™¤ç­‰ã€‚å…¶ä¸­èŠ‚ç‚¹é‡æ–°æ’åºåŒæ—¶æ¶‰åŠæ’å…¥ã€ç§»åŠ¨ã€åˆ é™¤ä¸‰ä¸ªæ“ä½œï¼Œæ‰€ä»¥æ•ˆç‡æ¶ˆè€—æœ€å¤§ï¼Œæ­¤æ—¶ç­–ç•¥ä¸‰èµ·åˆ°äº†è‡³å…³é‡è¦çš„ä½œç”¨ã€‚é€šè¿‡æ ‡è®° key çš„æ–¹å¼ï¼ŒReact å¯ä»¥ç›´æ¥ç§»åŠ¨ DOM èŠ‚ç‚¹ï¼Œé™ä½å†…è€—ã€‚</p><h3 id="react-key" tabindex="-1">React key <a class="header-anchor" href="#react-key" aria-hidden="true">#</a></h3><p>Keys æ˜¯ React ç”¨äºè¿½è¸ªå“ªäº›åˆ—è¡¨ä¸­å…ƒç´ è¢«ä¿®æ”¹ã€è¢«æ·»åŠ æˆ–è€…è¢«ç§»é™¤çš„è¾…åŠ©æ ‡è¯†ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯æŸä¸ªå…ƒç´ çš„ key åœ¨å…¶åŒçº§å…ƒç´ ä¸­å…·æœ‰å”¯ä¸€æ€§ã€‚</p><p>åœ¨ React Diff ç®—æ³•ä¸­ React ä¼šå€ŸåŠ©å…ƒç´ çš„ Key å€¼æ¥åˆ¤æ–­è¯¥å…ƒç´ æ˜¯æ–°è¿‘åˆ›å»ºçš„è¿˜æ˜¯è¢«ç§»åŠ¨è€Œæ¥çš„å…ƒç´ ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å…ƒç´ é‡æ¸²æŸ“æ­¤å¤–ï¼ŒReact è¿˜éœ€è¦å€ŸåŠ© Key å€¼æ¥åˆ¤æ–­å…ƒç´ ä¸æœ¬åœ°çŠ¶æ€çš„å…³è”å…³ç³»ã€‚</p><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>key å€¼ä¸€å®šè¦å’Œå…·ä½“çš„å…ƒç´ â€”ä¸€å¯¹åº”ï¼›</li><li>å°½é‡ä¸è¦ç”¨æ•°ç»„çš„ index å»ä½œä¸º keyï¼›</li><li>ä¸è¦åœ¨ render çš„æ—¶å€™ç”¨éšæœºæ•°æˆ–è€…å…¶ä»–æ“ä½œç»™å…ƒç´ åŠ ä¸Šä¸ç¨³å®šçš„ keyï¼Œè¿™æ ·é€ æˆçš„æ€§èƒ½å¼€é”€æ¯”ä¸åŠ  key çš„æƒ…å†µä¸‹æ›´ç³Ÿç³•ã€‚</li></ul><h3 id="è™šæ‹Ÿ-dom-çš„å¼•å…¥ä¸ç›´æ¥æ“ä½œåŸç”Ÿ-dom-ç›¸æ¯”-å“ªä¸€ä¸ªæ•ˆç‡æ›´é«˜-ä¸ºä»€ä¹ˆ" tabindex="-1">è™šæ‹Ÿ DOM çš„å¼•å…¥ä¸ç›´æ¥æ“ä½œåŸç”Ÿ DOM ç›¸æ¯”ï¼Œå“ªä¸€ä¸ªæ•ˆç‡æ›´é«˜ï¼Œä¸ºä»€ä¹ˆ <a class="header-anchor" href="#è™šæ‹Ÿ-dom-çš„å¼•å…¥ä¸ç›´æ¥æ“ä½œåŸç”Ÿ-dom-ç›¸æ¯”-å“ªä¸€ä¸ªæ•ˆç‡æ›´é«˜-ä¸ºä»€ä¹ˆ" aria-hidden="true">#</a></h3><p><strong>è™šæ‹Ÿ DOM ç›¸å¯¹åŸç”Ÿçš„ DOM ä¸ä¸€å®šæ˜¯æ•ˆç‡æ›´é«˜</strong>ï¼Œå¦‚æœåªä¿®æ”¹ä¸€ä¸ªæŒ‰é’®çš„æ–‡æ¡ˆï¼Œé‚£ä¹ˆè™šæ‹Ÿ DOM çš„æ“ä½œæ— è®ºå¦‚ä½•éƒ½ä¸å¯èƒ½æ¯”çœŸå®çš„ DOM æ“ä½œæ›´å¿«ã€‚åœ¨é¦–æ¬¡æ¸²æŸ“å¤§é‡ DOM æ—¶ï¼Œç”±äºå¤šäº†ä¸€å±‚è™šæ‹Ÿ DOM çš„è®¡ç®—ï¼Œè™šæ‹Ÿ DOM ä¹Ÿä¼šæ¯” innerHTML æ’å…¥æ…¢ã€‚å®ƒèƒ½ä¿è¯æ€§èƒ½ä¸‹é™ï¼Œåœ¨çœŸå® DOM æ“ä½œçš„æ—¶å€™è¿›è¡Œé’ˆå¯¹æ€§çš„ä¼˜åŒ–æ—¶ï¼Œè¿˜æ˜¯æ›´å¿«çš„ã€‚æ‰€ä»¥è¦æ ¹æ®å…·ä½“çš„åœºæ™¯è¿›è¡Œæ¢è®¨ã€‚</p><p><strong>åœ¨æ•´ä¸ª DOM æ“ä½œçš„æ¼”åŒ–è¿‡ç¨‹ä¸­ï¼Œå…¶å®ä¸»è¦çŸ›ç›¾å¹¶ä¸åœ¨äºæ€§èƒ½</strong>ï¼Œè€Œåœ¨äºå¼€å‘è€…å†™å¾—çˆ½ä¸çˆ½ï¼Œåœ¨äºç ”å‘ä½“éªŒ/ç ”å‘æ•ˆç‡ã€‚è™šæ‹Ÿ DOM ä¸æ˜¯åˆ«çš„ï¼Œæ­£æ˜¯å‰ç«¯å¼€å‘ä»¬ä¸ºäº†è¿½æ±‚æ›´å¥½çš„ç ”å‘ä½“éªŒå’Œç ”å‘æ•ˆç‡è€Œåˆ›é€ å‡ºæ¥çš„é«˜é˜¶äº§ç‰©ã€‚è™šæ‹Ÿ DOM å¹¶ä¸ä¸€å®šä¼šå¸¦æ¥æ›´å¥½çš„æ€§èƒ½ï¼ŒReact å®˜æ–¹ä¹Ÿä»æ¥æ²¡æœ‰æŠŠè™šæ‹Ÿ DOM ä½œä¸ºæ€§èƒ½å±‚é¢çš„å–ç‚¹å¯¹å¤–è¾“å‡ºè¿‡ã€‚<strong>è™šæ‹Ÿ DOM çš„ä¼˜è¶Šä¹‹å¤„åœ¨äºï¼Œå®ƒèƒ½å¤Ÿåœ¨æä¾›æ›´çˆ½ã€æ›´é«˜æ•ˆçš„ç ”å‘æ¨¡å¼ï¼ˆä¹Ÿå°±æ˜¯å‡½æ•°å¼çš„ UI ç¼–ç¨‹æ–¹å¼ï¼‰çš„åŒæ—¶ï¼Œä»ç„¶ä¿æŒä¸€ä¸ªè¿˜ä¸é”™çš„æ€§èƒ½ã€‚</strong></p><h3 id="react-ä¸-vue-çš„-diff-ç®—æ³•" tabindex="-1">React ä¸ Vue çš„ diff ç®—æ³• <a class="header-anchor" href="#react-ä¸-vue-çš„-diff-ç®—æ³•" aria-hidden="true">#</a></h3><p>diff ç®—æ³•æ˜¯æŒ‡ç”Ÿæˆæ›´æ–°è¡¥ä¸çš„æ–¹å¼ï¼Œä¸»è¦åº”ç”¨äºè™šæ‹Ÿ DOM æ ‘å˜åŒ–åï¼Œæ›´æ–°çœŸå® DOMã€‚æ‰€ä»¥ diff ç®—æ³•ä¸€å®šå­˜åœ¨è¿™æ ·ä¸€ä¸ªè¿‡ç¨‹ï¼šè§¦å‘æ›´æ–° â†’ ç”Ÿæˆè¡¥ä¸ â†’ åº”ç”¨è¡¥ä¸ã€‚</p><p>React çš„ diff ç®—æ³•ï¼Œè§¦å‘æ›´æ–°çš„æ—¶æœºä¸»è¦åœ¨ state å˜åŒ–ä¸ hooks è°ƒç”¨ä¹‹åã€‚æ­¤æ—¶è§¦å‘è™šæ‹Ÿ DOM æ ‘å˜æ›´éå†ï¼Œé‡‡ç”¨äº†æ·±åº¦ä¼˜å…ˆéå†ç®—æ³•ã€‚ä½†ä¼ ç»Ÿçš„éå†æ–¹å¼ï¼Œæ•ˆç‡è¾ƒä½ã€‚ä¸ºäº†ä¼˜åŒ–æ•ˆç‡ï¼Œä½¿ç”¨äº†åˆ†æ²»çš„æ–¹å¼ã€‚å°†å•ä¸€èŠ‚ç‚¹æ¯”å¯¹è½¬åŒ–ä¸ºäº† 3 ç§ç±»å‹èŠ‚ç‚¹çš„æ¯”å¯¹ï¼Œåˆ†åˆ«æ˜¯æ ‘ã€ç»„ä»¶åŠå…ƒç´ ï¼Œä»¥æ­¤æå‡æ•ˆç‡ã€‚</p><ul><li>æ ‘æ¯”å¯¹ï¼šç”±äºç½‘é¡µè§†å›¾ä¸­è¾ƒå°‘æœ‰è·¨å±‚çº§èŠ‚ç‚¹ç§»åŠ¨ï¼Œä¸¤æ ªè™šæ‹Ÿ DOM æ ‘åªå¯¹åŒä¸€å±‚æ¬¡çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚</li><li>ç»„ä»¶æ¯”å¯¹ï¼šå¦‚æœç»„ä»¶æ˜¯åŒä¸€ç±»å‹ï¼Œåˆ™è¿›è¡Œæ ‘æ¯”å¯¹ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™ç›´æ¥æ”¾å…¥åˆ°è¡¥ä¸ä¸­ã€‚</li><li>å…ƒç´ æ¯”å¯¹ï¼šä¸»è¦å‘ç”Ÿåœ¨åŒå±‚çº§ä¸­ï¼Œé€šè¿‡æ ‡è®°èŠ‚ç‚¹æ“ä½œç”Ÿæˆè¡¥ä¸ï¼ŒèŠ‚ç‚¹æ“ä½œå¯¹åº”çœŸå®çš„ DOM å‰ªè£æ“ä½œã€‚</li></ul><p>ä»¥ä¸Šæ˜¯ç»å…¸çš„ React diff ç®—æ³•å†…å®¹ã€‚è‡ª React 16 èµ·ï¼Œå¼•å…¥äº† Fiber æ¶æ„ã€‚ä¸ºäº†ä½¿æ•´ä¸ªæ›´æ–°è¿‡ç¨‹å¯éšæ—¶æš‚åœæ¢å¤ï¼ŒèŠ‚ç‚¹ä¸æ ‘åˆ†åˆ«é‡‡ç”¨äº† FiberNode ä¸ FiberTree è¿›è¡Œé‡æ„ã€‚fiberNode ä½¿ç”¨äº†åŒé“¾è¡¨çš„ç»“æ„ï¼Œå¯ä»¥ç›´æ¥æ‰¾åˆ°å…„å¼ŸèŠ‚ç‚¹ä¸å­èŠ‚ç‚¹ã€‚æ•´ä¸ªæ›´æ–°è¿‡ç¨‹ç”± current ä¸ workInProgress ä¸¤æ ªæ ‘åŒç¼“å†²å®Œæˆã€‚workInProgress æ›´æ–°å®Œæˆåï¼Œå†é€šè¿‡ä¿®æ”¹ current ç›¸å…³æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹ã€‚</p><p>Vue çš„æ•´ä½“ diff ç­–ç•¥ä¸ React å¯¹é½ï¼Œè™½ç„¶ç¼ºä¹æ—¶é—´åˆ‡ç‰‡èƒ½åŠ›ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€ Vue çš„æ€§èƒ½æ›´å·®ï¼Œå› ä¸ºåœ¨ Vue 3 åˆæœŸå¼•å…¥è¿‡ï¼ŒåæœŸå› ä¸ºæ”¶ç›Šä¸é«˜ç§»é™¤æ‰äº†ã€‚é™¤äº†é«˜å¸§ç‡åŠ¨ç”»ï¼Œåœ¨ Vue ä¸­å…¶ä»–çš„åœºæ™¯å‡ ä¹éƒ½å¯ä»¥ä½¿ç”¨é˜²æŠ–å’ŒèŠ‚æµå»æé«˜å“åº”æ€§èƒ½ã€‚</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-cfb513e0 data-v-21f75714><div class="edit-info" data-v-21f75714><div class="edit-link" data-v-21f75714><a class="VPLink link edit-link-button" href="https://github.com/Sunny-117/blog" target="_blank" rel="noreferrer" data-v-21f75714 data-v-3c355974><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-21f75714><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on Gitlab<!--]--><!----></a></div><div class="last-updated" data-v-21f75714><p class="VPLastUpdated" data-v-21f75714 data-v-18fe8fc2>Last Updated: <time datetime="2023-02-01T12:11:48.000Z" data-v-18fe8fc2></time></p></div></div><div class="prev-next" data-v-21f75714><div class="pager" data-v-21f75714><a class="pager-link prev" href="/blog/react/react-interview.html" data-v-21f75714><span class="desc" data-v-21f75714>Previous page</span><span class="title" data-v-21f75714>é‚£äº›å¹´ï¼Œè¢«é—®çƒ‚äº†çš„ React é¢è¯•é¢˜</span></a></div><div class="has-prev pager" data-v-21f75714><a class="pager-link next" href="/blog/react/component-communication.html" data-v-21f75714><span class="desc" data-v-21f75714>Next page</span><span class="title" data-v-21f75714>React ç»„ä»¶é€šä¿¡</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-f44a984a data-v-9f24cc86><div class="container" data-v-9f24cc86><!----><p class="copyright" data-v-9f24cc86>Copyright Â© 2022-present sunny-117</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"fe-utils_ä¸“ä¸šå‰ç«¯å·¥ç¨‹å¸ˆçš„æµè§ˆå™¨æ”¶è—å¤¹.md\":\"d2684abc\",\"fe-utils_ä½ çš„å‰ç«¯å¼€å‘å°åŠ©æ‰‹.md\":\"b60514af\",\"algorithm_ğŸ”¥åˆ·é¢˜ä¹‹æ¢ç´¢æœ€ä¼˜è§£.md\":\"7152ab44\",\"fe-utils_jså·¥å…·åº“.md\":\"b46e4bbb\",\"front-end-engineering_csså·¥ç¨‹åŒ–.md\":\"01ea7ee1\",\"front-end-engineering_packagemanager.md\":\"e96c4288\",\"front-end-engineering_git.md\":\"8586a616\",\"front-end-engineering_performance.md\":\"983d94be\",\"front-end-engineering_pnpmåŸç†.md\":\"bd50881d\",\"getting-started.md\":\"e4194af2\",\"front-end-engineering_jscompatibility.md\":\"61f48d6b\",\"front-end-engineering_webpackå¸¸ç”¨æ‹“å±•.md\":\"5a8eb1aa\",\"front-end-engineering_modularization.md\":\"3c7361f2\",\"front-end-engineering_webpack5.md\":\"19aaf22a\",\"html-css_html.md\":\"9dc807ec\",\"html-css_animation.md\":\"c1e62b94\",\"html-css_drag.md\":\"73034585\",\"html-css_css.md\":\"b60363e8\",\"html-css_canvas-svg.md\":\"0750d839\",\"html-css_principle.md\":\"9a2820f1\",\"html-css_temop.md\":\"9f3dda4e\",\"index.md\":\"489aafd0\",\"js_index.md\":\"53d5fb78\",\"interview_é¢è¯•å®˜ï¼šä½ è¿˜æœ‰é—®é¢˜è¦é—®æˆ‘å—.md\":\"d3bf878b\",\"interview_ç®—æ³•ç¬”è¯•.md\":\"b47baa89\",\"js_ä»£ç†ä¸åå°„.md\":\"79bd50e6\",\"html-css_selector.md\":\"53a42b78\",\"react_fiber.md\":\"105a2123\",\"html-css_interview.md\":\"ab9d05b9\",\"js_è¿­ä»£å™¨å’Œç”Ÿæˆå™¨.md\":\"b2fdc28b\",\"js_å¼‚æ­¥å¤„ç†.md\":\"9ed7a8d2\",\"react_component-communication.md\":\"a2ef1843\",\"react_redux.md\":\"aae22116\",\"react_dva.md\":\"5e0d2604\",\"react_event.md\":\"5a081d42\",\"react_reactrouter.md\":\"7b6628df\",\"react_context.md\":\"6b27a4c5\",\"react_hooks.md\":\"c42c6cf1\",\"react_lifecycle.md\":\"a03e18a0\",\"react_react-redux-router.md\":\"b90dcd6e\",\"react_transition.md\":\"30adbc35\",\"react_umi.md\":\"c448bd12\",\"react_utils.md\":\"4aa57ae0\",\"react_render.md\":\"cef8ddce\",\"react_index.md\":\"8b05f569\",\"react_react-interview.md\":\"88c72354\",\"vue_ssr.md\":\"7931cc16\",\"vue_computed.md\":\"3945a2d0\",\"vue_index.md\":\"28fdf887\",\"vue_directive.md\":\"6c176586\",\"vue_keep-alive-lru.md\":\"20a1f15c\",\"vue_interviewer.md\":\"29ef95f2\",\"vue_reactive-v3.md\":\"13c96865\",\"vue_lifecycle.md\":\"6ff092df\",\"vue_diff.md\":\"da8aa71e\",\"vue_nexttick.md\":\"c49e7497\",\"vue_slot.md\":\"18d69766\",\"vue_v-model.md\":\"5b5f4f60\",\"vue_component-communication.md\":\"19c85708\",\"vue_vdom.md\":\"edebefc7\",\"vue_vs.md\":\"423fcab7\",\"vue_vue-cli.md\":\"b37e631f\",\"vue_reactive.md\":\"3932efdd\",\"vue_vue-compile.md\":\"7e1029c3\",\"vue_vue-router.md\":\"fc571e75\",\"vue_vue-interview.md\":\"b4371a18\",\"vue_vuex.md\":\"69265907\",\"ts_typescript-onepage.md\":\"d68bde61\",\"vue_vue3-onepage.md\":\"2bea9329\"}")</script>
    <script type="module" async src="/blog/assets/app.d1c6a6c8.js"></script>
    
  </body>
</html>