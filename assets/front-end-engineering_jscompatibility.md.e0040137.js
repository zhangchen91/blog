import{_ as s,c as n,o as a,a as l}from"./app.8207ecbb.js";const p="/blog/assets/2023-01-06-16-46-05.c830893b.png",e="/blog/assets/2023-01-06-16-46-13.ea302e87.png",o="/blog/assets/2023-01-06-16-49-52.3f0e9aff.png",r="/blog/assets/2023-01-06-16-50-09.1857bf9e.png",A=JSON.parse('{"title":"JS兼容性","description":"","frontmatter":{},"headers":[{"level":2,"title":"babel","slug":"babel","link":"#babel","children":[{"level":3,"title":"babel简介","slug":"babel简介","link":"#babel简介","children":[]},{"level":3,"title":"babel的安装","slug":"babel的安装","link":"#babel的安装","children":[]},{"level":3,"title":"babel的使用","slug":"babel的使用","link":"#babel的使用","children":[]},{"level":3,"title":"babel的配置","slug":"babel的配置","link":"#babel的配置","children":[]},{"level":3,"title":"babel预设","slug":"babel预设","link":"#babel预设","children":[]},{"level":3,"title":"babel插件","slug":"babel插件","link":"#babel插件","children":[]}]},{"level":2,"title":"ESLint","slug":"eslint","link":"#eslint","children":[{"level":3,"title":"使用","slug":"使用","link":"#使用","children":[]},{"level":3,"title":"配置","slug":"配置","link":"#配置","children":[]},{"level":3,"title":"env","slug":"env","link":"#env","children":[]},{"level":3,"title":"parserOptions","slug":"parseroptions","link":"#parseroptions","children":[]},{"level":3,"title":"parser","slug":"parser","link":"#parser","children":[]},{"level":3,"title":"globals","slug":"globals","link":"#globals","children":[]},{"level":3,"title":"extends","slug":"extends","link":"#extends","children":[]},{"level":3,"title":"ignoreFiles","slug":"ignorefiles","link":"#ignorefiles","children":[]},{"level":3,"title":"rules","slug":"rules","link":"#rules","children":[]},{"level":3,"title":"ESLint的由来","slug":"eslint的由来","link":"#eslint的由来","children":[]},{"level":3,"title":"如何验证","slug":"如何验证","link":"#如何验证","children":[]},{"level":3,"title":"配置规则","slug":"配置规则","link":"#配置规则","children":[]},{"level":3,"title":"在VSCode中及时发现问题","slug":"在vscode中及时发现问题","link":"#在vscode中及时发现问题","children":[]},{"level":3,"title":"使用继承","slug":"使用继承","link":"#使用继承","children":[]}]},{"level":2,"title":"企业开发的实际情况","slug":"企业开发的实际情况","link":"#企业开发的实际情况","children":[]}],"relativePath":"front-end-engineering/jscompatibility.md","lastUpdated":1672995138000}'),c={name:"front-end-engineering/jscompatibility.md"},t=l('<h1 id="js兼容性" tabindex="-1">JS兼容性 <a class="header-anchor" href="#js兼容性" aria-hidden="true">#</a></h1><h2 id="babel" tabindex="-1">babel <a class="header-anchor" href="#babel" aria-hidden="true">#</a></h2><blockquote><p>官网：<a href="https://babeljs.io/" target="_blank" rel="noreferrer">https://babeljs.io/</a></p><p>民间中文网：<a href="https://www.babeljs.cn/" target="_blank" rel="noreferrer">https://www.babeljs.cn/</a></p></blockquote><h3 id="babel简介" tabindex="-1">babel简介 <a class="header-anchor" href="#babel简介" aria-hidden="true">#</a></h3><p>babel一词来自于希伯来语，直译为巴别塔</p><p>巴别塔象征的统一的国度、统一的语言</p><p>而今天的JS世界缺少一座巴别塔，不同版本的浏览器能识别的ES标准并不相同，就导致了开发者面对不同版本的浏览器要使用不同的语言，和古巴比伦一样，前端开发也面临着这样的困境。</p><p>babel的出现，就是用于解决这样的问题，它是一个编译器，可以把不同标准书写的语言，编译为统一的、能被各种浏览器识别的语言</p><p><img src="'+p+'" alt=""></p><p>由于语言的转换工作灵活多样，babel的做法和postcss、webpack差不多，它本身仅提供一些分析功能，真正的转换需要依托于插件完成</p><p><img src="'+e+`" alt=""></p><h3 id="babel的安装" tabindex="-1">babel的安装 <a class="header-anchor" href="#babel的安装" aria-hidden="true">#</a></h3><p>babel可以和构建工具联合使用，也可以独立使用</p><p>如果要独立的使用babel，需要安装下面两个库：</p><ul><li>@babel/core：babel核心库，提供了编译所需的所有api</li><li>@babel/cli：提供一个命令行工具，调用核心库的api完成编译</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#ABB2BF;">npm </span><span style="color:#98C379;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-D</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">@babel/core</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">@babel/cli</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">i</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-D</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">@babel/core</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">@babel/cli</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="babel的使用" tabindex="-1">babel的使用 <a class="header-anchor" href="#babel的使用" aria-hidden="true">#</a></h3><p>@babel/cli的使用极其简单</p><p>它提供了一个命令<code>babel</code></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 按文件编译</span></span>
<span class="line"><span style="color:#ABB2BF;">babel </span><span style="color:#98C379;">要编译的文件</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-o</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">编辑结果文件</span></span>
<span class="line"><span style="color:#ABB2BF;">npx </span><span style="color:#98C379;">babel</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">js/a.js</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-o</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">js/b.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 按目录编译</span></span>
<span class="line"><span style="color:#ABB2BF;">babel </span><span style="color:#98C379;">要编译的整个目录</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-d</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">编译结果放置的目录</span></span>
<span class="line"><span style="color:#ABB2BF;">npx </span><span style="color:#98C379;">babel</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">js</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-d</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">dist</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#6B737C;"># 按文件编译</span></span>
<span class="line"><span style="color:#B392F0;">babel </span><span style="color:#9DB1C5;">要编译的文件</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-o</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">编辑结果文件</span></span>
<span class="line"><span style="color:#B392F0;">npx </span><span style="color:#9DB1C5;">babel</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">js/a.js</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-o</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">js/b.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6B737C;"># 按目录编译</span></span>
<span class="line"><span style="color:#B392F0;">babel </span><span style="color:#9DB1C5;">要编译的整个目录</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-d</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">编译结果放置的目录</span></span>
<span class="line"><span style="color:#B392F0;">npx </span><span style="color:#9DB1C5;">babel</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">js</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-d</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">dist</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="babel的配置" tabindex="-1">babel的配置 <a class="header-anchor" href="#babel的配置" aria-hidden="true">#</a></h3><p>可以看到，babel本身没有做任何事情，真正的编译要依托于<strong>babel插件</strong>和<strong>babel预设</strong>来完成</p><blockquote><p>babel预设和postcss预设含义一样，是多个插件的集合体，用于解决一系列常见的兼容问题</p></blockquote><p>如何告诉babel要使用哪些插件或预设呢？需要通过一个配置文件<code>.babelrc</code></p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;presets&quot;</span><span style="color:#ABB2BF;">: [],</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;plugins&quot;</span><span style="color:#ABB2BF;">: []</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#B392F0;">{</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F8F8F8;">&quot;presets&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> []</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F8F8F8;">&quot;plugins&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> []</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="babel预设" tabindex="-1">babel预设 <a class="header-anchor" href="#babel预设" aria-hidden="true">#</a></h3><p>babel有多种预设，最常见的预设是<code>@babel/preset-env</code></p><p>安装 <code>@babel/preset-env</code>可以让你使用最新的JS语法，而无需针对每种语法转换设置具体的插件</p><p><strong>配置</strong></p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;presets&quot;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&quot;@babel/preset-env&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    ]</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#B392F0;">{</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F8F8F8;">&quot;presets&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> [</span></span>
<span class="line"><span style="color:#B392F0;">        </span><span style="color:#FFAB70;">&quot;@babel/preset-env&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    ]</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>兼容的浏览器</strong></p><p><code>@babel/preset-env</code>需要根据兼容的浏览器范围来确定如何编译，和postcss一样，可以使用文件<code>.browserslistrc</code>来描述浏览器的兼容范围</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#abb2bf;">last 3 version</span></span>
<span class="line"><span style="color:#abb2bf;">&gt; 1%</span></span>
<span class="line"><span style="color:#abb2bf;">not ie &lt;= 8</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#b392f0;">last 3 version</span></span>
<span class="line"><span style="color:#b392f0;">&gt; 1%</span></span>
<span class="line"><span style="color:#b392f0;">not ie &lt;= 8</span></span>
<span class="line"><span style="color:#b392f0;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>自身的配置</strong></p><p>和<code>postcss-preset-env</code>一样，<code>@babel/preset-env</code>自身也有一些配置</p><blockquote><p>具体的配置见：<a href="https://www.babeljs.cn/docs/babel-preset-env#options" target="_blank" rel="noreferrer">https://www.babeljs.cn/docs/babel-preset-env#options</a></p></blockquote><p>配置方式是：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;presets&quot;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">        [</span><span style="color:#98C379;">&quot;@babel/preset-env&quot;</span><span style="color:#ABB2BF;">, {</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#E06C75;">&quot;配置项1&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;配置值&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#E06C75;">&quot;配置项2&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;配置值&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#E06C75;">&quot;配置项3&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;配置值&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }]</span></span>
<span class="line"><span style="color:#ABB2BF;">    ]</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#B392F0;">{</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F8F8F8;">&quot;presets&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> [</span></span>
<span class="line"><span style="color:#B392F0;">        [</span><span style="color:#FFAB70;">&quot;@babel/preset-env&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">            </span><span style="color:#F8F8F8;">&quot;配置项1&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;配置值&quot;</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">            </span><span style="color:#F8F8F8;">&quot;配置项2&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;配置值&quot;</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">            </span><span style="color:#F8F8F8;">&quot;配置项3&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;配置值&quot;</span></span>
<span class="line"><span style="color:#B392F0;">        }]</span></span>
<span class="line"><span style="color:#B392F0;">    ]</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>其中一个比较常见的配置项是<code>usebuiltins</code>，该配置的默认值是false</p><p>它有什么用呢？由于该预设仅转换新的语法，并不对新的API进行任何处理</p><p>例如：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Promise</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">resolve</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#61AFEF;">resolve</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;">})</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">new</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Promise</span><span style="color:#B392F0;">(resolve </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">    resolve()</span></span>
<span class="line"><span style="color:#B392F0;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>转换的结果为</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Promise</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">resolve</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">resolve</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">new</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Promise</span><span style="color:#B392F0;">(</span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> (resolve) {</span></span>
<span class="line"><span style="color:#B392F0;">  resolve();</span></span>
<span class="line"><span style="color:#B392F0;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果遇到没有Promise构造函数的旧版本浏览器，该代码就会报错</p><p>而配置<code>usebuiltins</code>可以在编译结果中注入这些新的API，它的值默认为<code>false</code>，表示不注入任何新的API，可以将其设置为<code>usage</code>，表示根据API的使用情况，按需导入API</p><p>对于新的api npm i core-js 对于新的语法变成api实现 generator-runtime</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;presets&quot;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">        [</span><span style="color:#98C379;">&quot;@babel/preset-env&quot;</span><span style="color:#ABB2BF;">, {</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#E06C75;">&quot;useBuiltIns&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;usage&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#E06C75;">&quot;corejs&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">3</span><span style="color:#7F848E;font-style:italic;">//默认会使用2，我需要使用3版本</span></span>
<span class="line"><span style="color:#ABB2BF;">        }]</span></span>
<span class="line"><span style="color:#ABB2BF;">    ]</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#B392F0;">{</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F8F8F8;">&quot;presets&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> [</span></span>
<span class="line"><span style="color:#B392F0;">        [</span><span style="color:#FFAB70;">&quot;@babel/preset-env&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">            </span><span style="color:#F8F8F8;">&quot;useBuiltIns&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;usage&quot;</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">            </span><span style="color:#F8F8F8;">&quot;corejs&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">3</span><span style="color:#6B737C;">//默认会使用2，我需要使用3版本</span></span>
<span class="line"><span style="color:#B392F0;">        }]</span></span>
<span class="line"><span style="color:#B392F0;">    ]</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="babel插件" tabindex="-1">babel插件 <a class="header-anchor" href="#babel插件" aria-hidden="true">#</a></h3><p>先安装在使用 npm i -D ...</p><blockquote><p>注意：@babel/polyfill 已过时，目前被<code>core-js</code>和<code>generator-runtime</code>所取代</p></blockquote><p>除了预设可以转换代码之外，插件也可以转换代码，它们的顺序是：</p><ul><li>插件在 Presets 前运行。</li><li>插件顺序从前往后排列。</li><li>Preset 顺序是颠倒的（从后往前）。</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#98C379;">&quot;preset&quot;</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&#39;a&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&#39;b&#39;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#98C379;">&quot;plugins&quot;</span><span style="color:#ABB2BF;">:[</span><span style="color:#98C379;">&#39;c&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&#39;d&#39;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// cdba</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#B392F0;">{</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#FFAB70;">&quot;preset&quot;</span><span style="color:#B392F0;">: [</span><span style="color:#FFAB70;">&#39;a&#39;</span><span style="color:#BBBBBB;">,</span><span style="color:#FFAB70;">&#39;b&#39;</span><span style="color:#B392F0;">]</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#FFAB70;">&quot;plugins&quot;</span><span style="color:#B392F0;">:[</span><span style="color:#FFAB70;">&#39;c&#39;</span><span style="color:#BBBBBB;">,</span><span style="color:#FFAB70;">&#39;d&#39;</span><span style="color:#B392F0;">]</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"><span style="color:#6B737C;">// cdba</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>通常情况下，<code>@babel/preset-env</code>只转换那些已经形成正式标准的语法，对于某些处于早期阶段、还没有确定的语法不做转换。</p><p>如果要转换这些语法，就要单独使用插件</p><p>下面随便列举一些插件</p><h4 id="babel-plugin-proposal-class-properties" tabindex="-1"><code>@babel/plugin-proposal-class-properties</code> <a class="header-anchor" href="#babel-plugin-proposal-class-properties" aria-hidden="true">#</a></h4><p>该插件可以让你在类中书写初始化字段</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">A</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">a</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">constructor</span><span style="color:#ABB2BF;">(){</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#B392F0;"> A {</span></span>
<span class="line"><span style="color:#B392F0;">    a </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">1</span><span style="color:#B392F0;">;</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">constructor</span><span style="color:#B392F0;">(){</span></span>
<span class="line"><span style="color:#B392F0;">        </span><span style="color:#79B8FF;">this</span><span style="color:#B392F0;">.b </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">3</span><span style="color:#B392F0;">;</span></span>
<span class="line"><span style="color:#B392F0;">    }</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="babel-plugin-proposal-function-bind" tabindex="-1"><code>@babel/plugin-proposal-function-bind</code> <a class="header-anchor" href="#babel-plugin-proposal-function-bind" aria-hidden="true">#</a></h4><p>该插件可以让你轻松的为某个方法绑定this</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">Print</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">loginId</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">obj</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">loginId</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;abc&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">obj::</span><span style="color:#61AFEF;">Print</span><span style="color:#ABB2BF;">(); </span><span style="color:#7F848E;font-style:italic;">//相当于：Print.call(obj);</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> Print() {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#79B8FF;">console</span><span style="color:#B392F0;">.log(</span><span style="color:#79B8FF;">this</span><span style="color:#B392F0;">.loginId);</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">obj</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">    loginId</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;abc&quot;</span></span>
<span class="line"><span style="color:#B392F0;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">obj</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;">:Print(); </span><span style="color:#6B737C;">//相当于：Print.call(obj);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>遗憾的是，目前vscode无法识别该语法，会在代码中报错，虽然并不会有什么实际性的危害，但是影响观感</p></blockquote><h4 id="babel-plugin-proposal-optional-chaining" tabindex="-1"><code>@babel/plugin-proposal-optional-chaining</code> <a class="header-anchor" href="#babel-plugin-proposal-optional-chaining" aria-hidden="true">#</a></h4><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">obj</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">foo</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">bar</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">baz</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">42</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">baz</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">obj</span><span style="color:#ABB2BF;">?.</span><span style="color:#E5C07B;">foo</span><span style="color:#ABB2BF;">?.</span><span style="color:#E5C07B;">bar</span><span style="color:#ABB2BF;">?.</span><span style="color:#E06C75;">baz</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 42</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">safe</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">obj</span><span style="color:#ABB2BF;">?.</span><span style="color:#E5C07B;">qux</span><span style="color:#ABB2BF;">?.</span><span style="color:#E06C75;">baz</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// undefined</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">obj</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">  foo</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">    bar</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">      baz</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">42</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">    }</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">  }</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">baz</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">obj</span><span style="color:#B392F0;">?.</span><span style="color:#79B8FF;">foo</span><span style="color:#B392F0;">?.</span><span style="color:#79B8FF;">bar</span><span style="color:#B392F0;">?.baz; </span><span style="color:#6B737C;">// 42</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">safe</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">obj</span><span style="color:#B392F0;">?.</span><span style="color:#79B8FF;">qux</span><span style="color:#B392F0;">?.baz; </span><span style="color:#6B737C;">// undefined</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="babel-plugin-transform-remove-console" tabindex="-1"><code>babel-plugin-transform-remove-console</code> <a class="header-anchor" href="#babel-plugin-transform-remove-console" aria-hidden="true">#</a></h4><p>该插件会移除源码中的控制台输出语句</p><h4 id="babel-plugin-transform-runtime" tabindex="-1"><code>@babel/plugin-transform-runtime</code> <a class="header-anchor" href="#babel-plugin-transform-runtime" aria-hidden="true">#</a></h4><p>用于提供一些公共的API，这些API会帮助代码转换 使用的时候发现依赖其他库，所以还要安装babel runtime</p><h2 id="eslint" tabindex="-1">ESLint <a class="header-anchor" href="#eslint" aria-hidden="true">#</a></h2><p>ESLint是一个针对JS的代码风格<strong>检查</strong>工具，当不满足其要求的风格时，会给予警告或错误</p><p>官网：<a href="https://eslint.org/" target="_blank" rel="noreferrer">https://eslint.org/</a></p><p>民间中文网：<a href="https://eslint.bootcss.com/" target="_blank" rel="noreferrer">https://eslint.bootcss.com/</a></p><h3 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-hidden="true">#</a></h3><p>ESLint通常配合编辑器使用</p><ol><li>在vscode中安装<code>ESLint</code></li></ol><p>该工具会自动检查工程中的JS文件</p><p>检查的工作交给<code>eslint</code>库，如果当前工程没有，则会去全局库中查找，如果都没有，则无法完成检查</p><p>另外，检查的依据是<code>eslint</code>的配置文件<code>.eslintrc</code>，如果找不到工程中的配置文件，也无法完成检查</p><ol start="2"><li>安装<code>eslint</code></li></ol><p><code>npm i [-g] eslint</code></p><ol start="3"><li>创建配置文件</li></ol><p>可以通过<code>eslint</code>交互式命令创建配置文件</p><blockquote><p>由于windows环境中git窗口对交互式命名支持不是很好，建议使用powershell</p></blockquote><p><code>npx eslint --init</code></p><blockquote><p>eslint会识别工程中的<code>.eslintrc.*</code>文件，也能够识别<code>package.json</code>中的<code>eslintConfig</code>字段</p></blockquote><h3 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-hidden="true">#</a></h3><h3 id="env" tabindex="-1">env <a class="header-anchor" href="#env" aria-hidden="true">#</a></h3><p>配置代码的运行环境</p><ul><li>browser：代码是否在浏览器环境中运行</li><li>es6：是否启用ES6的全局API，例如<code>Promise</code>等</li></ul><h3 id="parseroptions" tabindex="-1">parserOptions <a class="header-anchor" href="#parseroptions" aria-hidden="true">#</a></h3><p>该配置指定<code>eslint</code>对哪些语法的支持</p><ul><li>ecmaVersion: 支持的ES语法版本</li><li>sourceType <ul><li>script：传统脚本</li><li>module：模块化脚本</li></ul></li></ul><h3 id="parser" tabindex="-1">parser <a class="header-anchor" href="#parser" aria-hidden="true">#</a></h3><p><code>eslint</code>的工作原理是先将代码进行解析，然后按照规则进行分析</p><p><code>eslint</code> 默认使用<code>Espree</code>作为其解析器，你可以在配置文件中指定一个不同的解析器。</p><h3 id="globals" tabindex="-1">globals <a class="header-anchor" href="#globals" aria-hidden="true">#</a></h3><p>配置可以使用的额外的全局变量</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">&quot;globals&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;var1&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;readonly&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;var2&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;writable&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#B392F0;">{</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F8F8F8;">&quot;globals&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F8F8F8;">&quot;var1&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;readonly&quot;</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F8F8F8;">&quot;var2&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;writable&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  }</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>eslint</code>支持注释形式的配置，在代码中使用下面的注释也可以完成配置</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#7F848E;font-style:italic;">/* global var1, var2 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* global var3:writable, var4:writable */</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#6B737C;">/* global var1, var2 */</span></span>
<span class="line"><span style="color:#6B737C;">/* global var3:writable, var4:writable */</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="extends" tabindex="-1">extends <a class="header-anchor" href="#extends" aria-hidden="true">#</a></h3><p>该配置继承自哪里</p><p>它的值可以是字符串或者数组</p><p>比如：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">&quot;extends&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;eslint:recommended&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#B392F0;">{</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F8F8F8;">&quot;extends&quot;</span><span style="color:#BBBBBB;">:</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;eslint:recommended&quot;</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>表示，该配置缺失的位置，使用<code>eslint</code>推荐的规则</p><h3 id="ignorefiles" tabindex="-1">ignoreFiles <a class="header-anchor" href="#ignorefiles" aria-hidden="true">#</a></h3><p>排除掉某些不需要验证的文件</p><p><code>.eslintignore</code> 要放在根目录</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#abb2bf;">dist/**/*.js</span></span>
<span class="line"><span style="color:#abb2bf;">node_modules// 自动忽略</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#b392f0;">dist/**/*.js</span></span>
<span class="line"><span style="color:#b392f0;">node_modules// 自动忽略</span></span>
<span class="line"><span style="color:#b392f0;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="rules" tabindex="-1">rules <a class="header-anchor" href="#rules" aria-hidden="true">#</a></h3><p><code>eslint</code>规则集</p><p>每条规则影响某个方面的代码风格</p><p>每条规则都有下面几个取值：</p><ul><li>off 或 0 或 false: 关闭该规则的检查</li><li>warn 或 1 或 true：警告，不会导致程序退出</li><li>error 或 2：错误，当被触发的时候，程序会退出</li></ul><p>除了在配置文件中使用规则外，还可以在注释中使用：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#7F848E;font-style:italic;">/* eslint eqeqeq: &quot;off&quot;, curly: &quot;error&quot; */</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#6B737C;">/* eslint eqeqeq: &quot;off&quot;, curly: &quot;error&quot; */</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p><a href="https://eslint.bootcss.com/docs/rules/" target="_blank" rel="noreferrer">https://eslint.bootcss.com/docs/rules/</a> 带有🔧的可以自动修复：npx eslint --fix src/index.js</p></blockquote><blockquote><p>ESLint官网：<a href="https://eslint.org/" target="_blank" rel="noreferrer">https://eslint.org/</a></p><p>ESLint民间中文网：<a href="https://eslint.bootcss.com/" target="_blank" rel="noreferrer">https://eslint.bootcss.com/</a></p></blockquote><h3 id="eslint的由来" tabindex="-1">ESLint的由来 <a class="header-anchor" href="#eslint的由来" aria-hidden="true">#</a></h3><p>JavaScript是一个过于灵活的语言，因此在企业开发中，往往会遇到下面两个问题：</p><ul><li>如何让所有员工书写高质量的代码？ 比如使用<code>===</code>替代<code>==</code></li><li>如何让所有员工书写的代码风格保持统一？ 比如字符串统一使用单引号</li></ul><p>上面两个问题，一个代表着代码的质量，一个代表着代码的风格。</p><p>如果纯依靠人工进行检查，不仅费时费力，而且还容易出错。</p><p>ESLint由此诞生，它是一个工具，<strong>预先配置好各种规则</strong>，通过这些规则来自动化的验证代码，甚至自动修复</p><p><img src="`+o+`" alt=""></p><h3 id="如何验证" tabindex="-1">如何验证 <a class="header-anchor" href="#如何验证" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 验证单个文件</span></span>
<span class="line"><span style="color:#ABB2BF;">npx </span><span style="color:#98C379;">eslint</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">文件名</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 验证全部文件</span></span>
<span class="line"><span style="color:#ABB2BF;">npx </span><span style="color:#98C379;">eslint</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">src/</span><span style="color:#E5C07B;">**</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#6B737C;"># 验证单个文件</span></span>
<span class="line"><span style="color:#B392F0;">npx </span><span style="color:#9DB1C5;">eslint</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">文件名</span></span>
<span class="line"><span style="color:#6B737C;"># 验证全部文件</span></span>
<span class="line"><span style="color:#B392F0;">npx </span><span style="color:#9DB1C5;">eslint</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">src/**</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="配置规则" tabindex="-1">配置规则 <a class="header-anchor" href="#配置规则" aria-hidden="true">#</a></h3><p>eslint会自动寻找根目录中的配置文件，它支持三种配置文件：</p><ul><li><code>.eslintrc</code> JSON格式</li><li><code>.eslintrc.js</code> JS格式</li><li><code>.eslintrc.yml</code> YAML格式</li></ul><p>这里以<code>.eslintrc.js</code>为例：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// ESLint 配置</span></span>
<span class="line"><span style="color:#E5C07B;">module</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">exports</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 配置规则</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">rules</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">规则名1</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">级别</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">规则名2</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">级别</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    ...</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#6B737C;">// ESLint 配置</span></span>
<span class="line"><span style="color:#79B8FF;">module</span><span style="color:#B392F0;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#6B737C;">// 配置规则</span></span>
<span class="line"><span style="color:#B392F0;">  rules</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">    规则名1</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> 级别</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">    规则名2</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> 级别</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">...</span></span>
<span class="line"><span style="color:#B392F0;">  }</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>每条规则由名称和级别组成</p><p><strong>规则名称决定了要检查什么</strong></p><p><strong>规则级别决定了检查没通过时的处理方式</strong></p><p>所有的规则名称看这里：</p><ul><li>官方：<a href="https://eslint.org/docs/rules/" target="_blank" rel="noreferrer">https://eslint.org/docs/rules/</a></li><li>中文：<a href="https://eslint.bootcss.com/docs/rules/" target="_blank" rel="noreferrer">https://eslint.bootcss.com/docs/rules/</a></li></ul><p>所有级别如下：</p><ul><li>0 或 &#39;off&#39;：关闭规则</li><li>1 或 &#39;warn&#39;：验证不通过提出警告</li><li>2 或 &#39;error&#39;：验证不通过报错，退出程序</li></ul><h3 id="在vscode中及时发现问题" tabindex="-1">在VSCode中及时发现问题 <a class="header-anchor" href="#在vscode中及时发现问题" aria-hidden="true">#</a></h3><p>每次都要输入命令发现问题非常麻烦</p><p>可以安装VSCode插件<strong>ESLint</strong>，只要项目的node_modules中有eslint，它就会按照项目根目录下的规则自动检测</p><h3 id="使用继承" tabindex="-1">使用继承 <a class="header-anchor" href="#使用继承" aria-hidden="true">#</a></h3><p>ESLint的规则非常庞大，全部自定义过于麻烦</p><p>一般我们继承其他企业开源的方案来简化配置</p><p>这方面做的比较好的是一家叫Airbnb的公司，他们在开发前端项目的时候自定义了一套开源规则，受到全世界的认可</p><p>我们只需要安装它即可</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 为了避免版本问题，不要直接安装eslint，直接安装下面的包，会自动安装相应版本的eslint</span></span>
<span class="line"><span style="color:#ABB2BF;">npm </span><span style="color:#98C379;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-D</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">eslint-config-airbnb</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#6B737C;"># 为了避免版本问题，不要直接安装eslint，直接安装下面的包，会自动安装相应版本的eslint</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">i</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-D</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">eslint-config-airbnb</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>然后稍作配置</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro vp-code-dark"><code><span class="line"><span style="color:#ABB2BF;">module.exports </span><span style="color:#98C379;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">	extends: </span><span style="color:#98C379;">&#39;airbnb&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;"># 配置继承自 airbnb</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light"><code><span class="line"><span style="color:#B392F0;">module.exports </span><span style="color:#9DB1C5;">=</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">{</span></span>
<span class="line"><span style="color:#B392F0;">	extends: </span><span style="color:#FFAB70;">&#39;airbnb&#39;</span><span style="color:#B392F0;"> </span><span style="color:#6B737C;"># 配置继承自 airbnb</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="企业开发的实际情况" tabindex="-1">企业开发的实际情况 <a class="header-anchor" href="#企业开发的实际情况" aria-hidden="true">#</a></h2><p><img src="`+r+'" alt=""></p><p>我们要做什么？</p><ul><li>安装好VSCode的ESLint插件</li><li>学会查看ESLint错误提示</li></ul>',157),i=[t];function B(d,y,b,u,F,h){return a(),n("div",null,i)}const g=s(c,[["render",B]]);export{A as __pageData,g as default};
